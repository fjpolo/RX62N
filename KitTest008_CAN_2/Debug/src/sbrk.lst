* RX FAMILY ASSEMBLER V2.08.00.01 [06 Oct 2017] *  SOURCE LIST  Fri Jul 06 09:06:33 2018

LOC.     OBJ.              0XMDA SOURCE STATEMENT

                                 ;RX Family C/C++ Compiler (V2.08.00 [30 Nov 2017])  06-Jul-2018 09:06:33
                                 
                                 ;*** CPU TYPE ***
                                 
                                 ;-CPU=RX600
                                 
                                 ;*** COMMAND PARAMETER ***
                                 
                                 ;-output=src=sbrk.src
                                 ;-cpu=rx600
                                 ;-fpu
                                 ;-include=C:\PROGRA~2\RENESA~1\CS_~1\CC\CC-RX\V208~1.00\include,C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2,C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2
                                 ;-define=NOT_DEBUG=1
                                 ;-lang=c99
                                 ;-nomessage
                                 ;-change_message=information
                                 ;-obj_path=src
                                 ;-debug
                                 ;-listfile=src/sbrk.lst
                                 ;-show=source
                                 ;-optimize=0
                                 ;-speed
                                 ;-nologo
                                 ;sbrk.c
                                 
                                 		.glb	_sbrk
                                 ;LineNo. C-SOURCE STATEMENT
                                 
                                 		.SECTION	P,CODE
00000000                         _sbrk:
                                 		.STACK	_sbrk=16
                                 ;       1 /***********************************************************************/
                                 ;       2 /*                                                                     */
                                 ;       3 /*  FILE        :sbrk.c                                                */
                                 ;       4 /*  DATE        :Thu, Jul 08, 2010                                     */
                                 ;       5 /*  DESCRIPTION :Program of sbrk                                       */
                                 ;       6 /*  CPU TYPE    :                                                      */
                                 ;       7 /*                                                                     */
                                 ;       8 /*  This file is generated by Renesas Project Generator (Ver.4.50).    */
                                 ;       9 /*  NOTE:THIS IS A TYPICAL EXAMPLE.                                    */
                                 ;      10 /*                                                                     */
                                 ;      11 /***********************************************************************/
                                 ;      12                   
                                 ;      13 
                                 ;      14 
                                 ;      15 /*********************************************************************
                                 ;      16 *
                                 ;      17 * Device     : RX
                                 ;      18 *
                                 ;      19 * File Name  : sbrk.c
                                 ;      20 *
                                 ;      21 * Abstract   : Program of sbrk.
                                 ;      22 *
                                 ;      23 * History    : 1.00  (2009-08-07)
                                 ;      24 *
                                 ;      25 * NOTE       : THIS IS A TYPICAL EXAMPLE.
                                 ;      26 *
                                 ;      27 * Copyright(c) 2009 Renesas Technology Corp.
                                 ;      28 *               And Renesas Solutions Corp.,All Rights Reserved. 
                                 ;      29 *
                                 ;      30 *********************************************************************/
                                 ;      31 
                                 ;      32 #include <stddef.h>
                                 ;      33 #include <stdio.h>
                                 ;      34 #include "typedefine.h"
                                 ;      35 #include "sbrk.h"
                                 ;      36 
                                 ;      37 _SBYTE  *sbrk(size_t size);
                                 ;      38 
                                 ;      39 //const size_t _sbrk_size=		/* Specifies the minimum unit of	*/
                                 ;      40 					/* the defined heap area		*/
                                 ;      41 
                                 ;      42 extern _SBYTE *_s1ptr;
                                 ;      43 
                                 ;      44 union HEAP_TYPE {
                                 ;      45     _SDWORD  dummy ;		/* Dummy for 4-byte boundary			*/
                                 ;      46     _SBYTE heap[HEAPSIZE];	/* Declaration of the area managed by sbrk	*/
                                 ;      47 };
                                 ;      48 
                                 ;      49 static union HEAP_TYPE heap_area ;
                                 ;      50 
                                 ;      51 /* End address allocated by sbrk	*/
                                 ;      52 static _SBYTE *brk=(_SBYTE *)&heap_area;
                                 ;      53 
                                 ;      54 /**************************************************************************/
                                 ;      55 /*     sbrk:Memory area allocation                                        */
                                 ;      56 /*          Return value:Start address of allocated area (Pass)           */
                                 ;      57 /*                       -1                              (Failure)        */
                                 ;      58 /**************************************************************************/
                                 ;      59 _SBYTE  *sbrk(size_t size)                      /* Assigned area size   */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\sbrk.c",59
00000000 60C0                    		SUB #0CH, R0
00000002 A081                    		MOV.L R1, 08H[R0]
                                 ;      60 {
                                 ;      61     _SBYTE  *p;
                                 ;      62 
                                 ;      63     if(brk+size > heap_area.heap+HEAPSIZE){     /* Empty area size      */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\sbrk.c",63
00000004 FBE2rrrrrrrr            		MOV.L #__$brk, R14
0000000A ECEE                    		MOV.L [R14], R14
0000000C 4B1E                    		ADD R1, R14
0000000E FBF2rrrrrrrr            		MOV.L #__$heap_area, R15
00000014 72FF0008                		ADD #0800H, R15
00000018 47FE                    		CMP R15, R14
0000001A 25rr                    		BLEU L12
0000001C                         L11:	; if_then_bb
                                 ;      64         p = (_SBYTE *)-1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\sbrk.c",64
0000001C F806FF                  		MOV.L #0FFFFFFFFH, [R0]
0000001F 2Err                 B  		BRA L14
00000021                         L12:	; if_else_bb
                                 ;      65     }
                                 ;      66     else {
                                 ;      67         p = brk;                                /* Area assignment      */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\sbrk.c",67
00000021 FBE2rrrrrrrr            		MOV.L #__$brk, R14
00000027 E0E0                    		MOV.L [R14], [R0]
00000029                         L13:	; if_else_bb.split
                                 ;      68         brk += size;                            /* End address update   */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\sbrk.c",68
00000029 FBE2rrrrrrrr            		MOV.L #__$brk, R14
0000002F ECEF                    		MOV.L [R14], R15
00000031 06890F02                		ADD 08H[R0].L, R15
00000035 E3EF                    		MOV.L R15, [R14]
00000037                         L14:	; if_break_bb
                                 ;      69     }
                                 ;      70     return p;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\sbrk.c",70
00000037 EC01                    		MOV.L [R0], R1
00000039 A009                    		MOV.L R1, 04H[R0]
0000003B                         L15:	; if_break_bb.split
                                 ;      71 }
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\sbrk.c",71
0000003B 6703                    		RTSD #0CH
                                 ;      72 
                                 		.SECTION	D,ROMDATA,ALIGN=4
00000000                         __$brk:
00000000 rrrrrrrr                		.lword	__$heap_area
                                 		.SECTION	B,DATA,ALIGN=4
00000000                         __$heap_area:
00000000(00000800H)              		.blkl	512
                                 		.END

Information List

TOTAL ERROR(S)    00000
TOTAL WARNING(S)  00000
TOTAL LINE(S)     00142   LINES

Section List

Attr         Size               Name
CODE     0000000061(0000003DH)  P
ROMDATA  0000000004(00000004H)  D
DATA     0000002048(00000800H)  B

Cpu Type

-CPU=RX600

Command Parameter

-subcommand=C:\Users\fpolo\AppData\Local\Temp\$ccrx1727B20\$ccrx\sbrk.src.cmd
    -nologo
    -cpu=rx600
    -fpu
    -fint_register=0
    -debug
    -endian=little
-listfile=C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\Debug\src\sbrk.lst
-output=C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\Debug\src\sbrk.obj
