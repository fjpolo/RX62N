* RX FAMILY ASSEMBLER V2.08.00.01 [06 Oct 2017] *  SOURCE LIST  Fri Jul 06 09:06:34 2018

LOC.     OBJ.              0XMDA SOURCE STATEMENT

                                 ;RX Family C/C++ Compiler (V2.08.00 [30 Nov 2017])  06-Jul-2018 09:06:34
                                 
                                 ;*** CPU TYPE ***
                                 
                                 ;-CPU=RX600
                                 
                                 ;*** COMMAND PARAMETER ***
                                 
                                 ;-output=src=r_can_api.src
                                 ;-cpu=rx600
                                 ;-fpu
                                 ;-include=C:\PROGRA~2\RENESA~1\CS_~1\CC\CC-RX\V208~1.00\include,C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2,C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2
                                 ;-define=NOT_DEBUG=1
                                 ;-lang=c99
                                 ;-nomessage
                                 ;-change_message=information
                                 ;-obj_path=src
                                 ;-debug
                                 ;-listfile=src/r_can_api.lst
                                 ;-show=source
                                 ;-optimize=0
                                 ;-speed
                                 ;-nologo
                                 ;r_can_api.c
                                 
                                 		.glb	_R_CAN_Create
                                 		.glb	_R_CAN_PortSet
                                 		.glb	_R_CAN_Control
                                 		.glb	_R_CAN_TxSet
                                 		.glb	_R_CAN_TxSetXid
                                 		.glb	_R_CAN_Tx
                                 		.glb	_R_CAN_TxCheck
                                 		.glb	_R_CAN_TxStopMsg
                                 		.glb	_R_CAN_RxSet
                                 		.glb	_R_CAN_RxSetXid
                                 		.glb	_R_CAN_RxPoll
                                 		.glb	_R_CAN_RxRead
                                 		.glb	_R_CAN_RxSetMask
                                 		.glb	_R_CAN_CheckErr
                                 		.glb	_R_CAN_SetBitrate
                                 ;LineNo. C-SOURCE STATEMENT
                                 
                                 		.SECTION	P,CODE
00000000                         _R_CAN_Create:
                                 		.STACK	_R_CAN_Create=40
                                 ;       1 /******************************************************************************
                                 ;       2 * DISCLAIMER
                                 ;       3 
                                 ;       4 * This software is supplied by Renesas Electronics Corp. and is only 
                                 ;       5 * intended for use with Renesas products. No other uses are authorized.
                                 ;       6 
                                 ;       7 * This software is owned by Renesas Electronics Corp. and is protected under 
                                 ;       8 * all applicable laws, including copyright laws.
                                 ;       9 
                                 ;      10 * THIS SOFTWARE IS PROVIDED "AS IS" AND RENESAS MAKES NO WARRANTIES 
                                 ;      11 * REGARDING THIS SOFTWARE, WHETHER EXPRESS, IMPLIED OR STATUTORY, 
                                 ;      12 * INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
                                 ;      13 * PARTICULAR PURPOSE AND NON-INFRINGEMENT.  ALL SUCH WARRANTIES ARE EXPRESSLY 
                                 ;      14 * DISCLAIMED.
                                 ;      15 
                                 ;      16 * TO THE MAXIMUM EXTENT PERMITTED NOT PROHIBITED BY LAW, NEITHER RENESAS 
                                 ;      17 * ELECTRONICS CORP. NOR ANY OF ITS AFFILIATED COMPANIES SHALL BE LIABLE 
                                 ;      18 * FOR ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES 
                                 ;      19 * FOR ANY REASON RELATED TO THIS SOFTWARE, EVEN IF RENESAS OR ITS 
                                 ;      20 * AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
                                 ;      21 
                                 ;      22 * Renesas reserves the right, without notice, to make changes to this 
                                 ;      23 * software and to discontinue the availability of this software.  
                                 ;      24 * By using this software, you agree to the additional terms and 
                                 ;      25 * conditions found by accessing the following link:
                                 ;      26 * http://www.renesas.com/disclaimer
                                 ;      27 ******************************************************************************
                                 ;      28 * Copyright (C) 2017. Renesas Electronics Corp., All Rights Reserved.
                                 ;      29 ******************************************************************************
                                 ;      30 * File Name        R_CAN_API.C
                                 ;      31 * Version          2.05
                                 ;      32 * Platform         ROK5562N
                                 ;      33 * Description      CAN API function definitions
                                 ;      34 * Operation        See example usage API_DEMO.C
                                 ;      35 * Limitations      :
                                 ;      36 ******************************************************************************
                                 ;      37 * History       Ver.    Description
                                 ;      38 * Mar 22 '10    1.00    For RX62N with new CAN API.
                                 ;      39 * Apr 15 '10            Remote frame handling added.
                                 ;      40 * Apr 22 '10            Port configuration moved to config.h. User just 
                                 ;      41                             sets port and pin number for the transceiver control 
                                 ;      42                             ports. No need to change driver.
                                 ;      43                         R_CAN_Control: Enter Sleep added.
                                 ;      44                         R_CAN_PortSet: Modes automatically now enter and exit
                                 ;      45                              Halt mode, so user need just one call to change
                                 ;      46                              mode.
                                 ;      47                         R_CAN_TxStopMsg(): TRMREQ to 0, then TRMABT clear.
                                 ;      48                         R_CAN_RxSetMask(): Halt CAN before mask change, resume 
                                 ;      49                             after.
                                 ;      50                         R_CAN_RxPoll(): Function rewritten to use INVALDATA flag.
                                 ;      51                             R_CAN_NOT_OK added; "No message waiting or currently 
                                 ;      52                             being written".
                                 ;      53                         All RETURN values spelled out in all function headers.
                                 ;      54                         Return values added and changed for some APIs.
                                 ;      55 * Jun 7 2010             Changed TRM_ACTIVE -> SENTDATA in R_CAN_WaitTxRx() since 
                                 ;      56                             TRM_ACTIVE is low for a while after TRMREQ is set high.                
                                 ;      57                         Increased MAX_CAN_SW_DELAY from 0x1000 to 0x2000. If the
                                 ;      58                             TxCheck function is not used, the timer could time out
                                 ;      59                              and the mailbox will not send properly if the user 
                                 ;      60                             ignores the api_status warning that WaitTxRx timed out.
                                 ;      61 * Jan 10 2011   2.00    Updated to support CAN extended ID mode. Added functions: 
                                 ;      62                         R_CAN_TxSetXid, R_CAN_RxSetXid, R_CAN_TxSetFifoXid. 
                                 ;      63                         Added limited support for FIFO transmit mode.
                                 ;      64                         In R_CAN_WaitTxRx changed to while (...SENTDATA == 0)...
                                 ;      65 * Mar 22 2012           Removed RESET_CAN_SW_TMR. Counter reset at function start.     
                                 ;      66 * Oct 12 2012           Changed R_CAN_Control() sleep mode, to ensure that Halt mode
                                 ;      67                             is entered before exiting sleep. 
                                 ;      68                         Got rid of can_frame_t. can_frame_t to cover both Standard 
                                 ;      69                             and Ext frames.                    
                                 ;      70 * Jun 7 2016    2.04    All API calls' first argument now have 'ch_nr' instead of '0'.
                                 ;      71                         When writing 0 to bits NEWDATA, SENTDATA, MSGLOST, TRMABT, 
                                 ;      72                             RECREQ, and TRMREQ by a program, do not use the logic 
                                 ;      73                             operation instruction (AND). Write 0 to only the specified 
                                 ;      74                             bit and write 1 to the other bits before using the transfer 
                                 ;      75                             (MOV) instruction. See HW manual footnote.
                                 ;      76                         R_CAN_Control() case OPERATE_CANMODE; check also that Halt 
                                 ;      77                             Status bit is 0.
                                 ;      78 * Dec 8 2017    2.05    Fixed bug in extended ID mode and Mixed ID mode handling.
                                 ;      79                         Some code cleanup.
                                 ;      80                         Removed unused FIFO mode experimental code
                                 ;      81                         Moved port configuration to config_r_can_rapi.h
                                 ;      82 ******************************************************************************/
                                 ;      83 
                                 ;      84 /******************************************************************************
                                 ;      85 Includes   <System Includes> , "Project Includes"
                                 ;      86 ******************************************************************************/
                                 ;      87 #include <string.h>
                                 ;      88 #include <machine.h>
                                 ;      89 #include "config_r_can_rapi.h"
                                 ;      90 #if (USE_FIT_BSP == 1)
                                 ;      91 #include "platform.h"
                                 ;      92 #else
                                 ;      93 #include "iodefine.h"
                                 ;      94 #endif
                                 ;      95 
                                 ;      96 #include "r_can_api.h"
                                 ;      97 
                                 ;      98 /******************************************************************************
                                 ;      99 Typedef definitions
                                 ;     100 ******************************************************************************/
                                 ;     101 /******************************************************************************
                                 ;     102 Macro definitions
                                 ;     103 ******************************************************************************/
                                 ;     104 /* These macros are for determining if some can while loop times out. If they do,
                                 ;     105 the canx_sw_err variable will be non zero. This is to prevent an error in the 
                                 ;     106 can peripheral and driver from blocking the CPU indefinatly. */
                                 ;     107 #define DEC_CHK_CAN_SW_TMR      (--can_tmo_cnt != 0)
                                 ;     108 /* You may change MAX_CAN_SW_DELAY, but you risk the function timing out even 
                                 ;     109 more if set lower. As long as you check the return value and are aware that a 
                                 ;     110 timeout occurred, you can set the wait time as you wish, the shorter the time, 
                                 ;     111 the more likely you are to time out. There is no "correct" value, but do not 
                                 ;     112 set very low without a good reason. */
                                 ;     113 #define MAX_CAN_SW_DELAY        (0x2000)
                                 ;     114 #define CHECK_MBX_NR            {if (mbox_nr > 31) return R_CAN_SW_BAD_MBX;}
                                 ;     115 /* Board specific port defines. */
                                 ;     116 #define CAN_TRX_DDR(x, y)               CAN_TRX_DDR_PREPROC(x, y)
                                 ;     117 #define CAN_TRX_DDR_PREPROC(x, y)       (PORT ## x .DDR.BIT.B ## y)
                                 ;     118 #define CAN_TRX_DR(x, y)                CAN_TRX_DR_PREPROC(x, y)
                                 ;     119 #define CAN_TRX_DR_PREPROC(x, y)        (PORT ## x .DR.BIT.B ## y)
                                 ;     120 /* Define a mask for MSB of a long to serve as an extended ID mode bit flag. */
                                 ;     121 /* Extended ID occupies lower 29 bits, so use this to mask off upper 3 bits. */ 
                                 ;     122 #define XID_MASK    0xE0000000
                                 ;     123 /* Define a mask for the 11 bits that make up a standard ID. */ 
                                 ;     124 #define SID_MASK    0x000007FF  
                                 ;     125 
                                 ;     126 /******************************************************************************
                                 ;     127 Global variables and functions imported (externs)
                                 ;     128 ******************************************************************************/
                                 ;     129 /******************************************************************************
                                 ;     130 Constant definitions
                                 ;     131 *****************************************************************************/
                                 ;     132 /******************************************************************************
                                 ;     133 Global variables and functions private to the file
                                 ;     134 ******************************************************************************/
                                 ;     135 /* Data */
                                 ;     136 /* Functions */
                                 ;     137 static void     CanClearSentData(const uint32_t ch_nr, const uint32_t mbox_nr);
                                 ;     138 static uint32_t R_CAN_WaitTxRx(const uint32_t ch_nr, const uint32_t mbox_nr);
                                 ;     139 static void     R_CAN_ConfigCANinterrupts(const uint32_t ch_nr);
                                 ;     140 
                                 ;     141 /******************************************************************************
                                 ;     142 
                                 ;     143                         C A N 0   F U N C T I O N S
                                 ;     144 
                                 ;     145 ******************************************************************************/
                                 ;     146 /*******************************************************************************
                                 ;     147 Function Name:  R_CAN_Create
                                 ;     148 Description:    Configure the CAN peripheral.
                                 ;     149 Parameters:     ch_nr
                                 ;     150 Return value:   R_CAN_OK            Action completed successfully.
                                 ;     151                 R_CAN_SW_BAD_MBX    Bad mailbox number.
                                 ;     152                 R_CAN_BAD_CH_NR     The channel number does not exist.
                                 ;     153                 R_CAN_SW_RST_ERR    The CAN peripheral did not enter Reset mode.
                                 ;     154                 See also R_CAN_Control return values.
                                 ;     155 *******************************************************************************/
                                 ;     156 uint32_t R_CAN_Create(const uint32_t ch_nr)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",156
00000000 7100DC                  		ADD #0FFFFFFDCH, R0
00000003 A201                    		MOV.L R1, 20H[R0]
                                 ;     157 {
                                 ;     158     uint32_t api_status = R_CAN_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",158
00000005 3E0600                  		MOV.L #00000000H, 18H[R0]
00000008                         L11:	; entry.split
                                 ;     159     uint32_t i, j;
                                 ;     160     /* A faulty CAN peripheral block, due to HW, FW could potentially block (hang) 
                                 ;     161     the program at a while-loop. To prevent this, a sw timer in the while-loops
                                 ;     162     will time out enabling the CPU to continue. */
                                 ;     163     uint32_t can_tmo_cnt = MAX_CAN_SW_DELAY;   
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",163
00000008 F90A030020              		MOV.L #00002000H, 0CH[R0]
0000000D                         L12:	; entry.split1
                                 ;     164 
                                 ;     165     volatile struct st_can __evenaccess * can_block_p;
                                 ;     166     
                                 ;     167     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",167
0000000D AA01                    		MOV.L 20H[R0], R1
0000000F 6101                    		CMP #00H, R1
00000011 3Brrrr               W  		BNE L27
00000014                         L13:	; if_then_bb
                                 ;     168     {
                                 ;     169         can_block_p = (struct st_can __evenaccess *) 0x90200;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",169
00000014 F90E02000209            		MOV.L #00090200H, 08H[R0]
0000001A                         L14:	; if_then_bb.split
                                 ;     170     }
                                 ;     171     else
                                 ;     172     {
                                 ;     173         return R_CAN_BAD_CH_NR;
                                 ;     174     }
                                 ;     175 
                                 ;     176     /* Exit Sleep mode. */
                                 ;     177     api_status |= R_CAN_Control(ch_nr, EXITSLEEP_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",177
0000001A AA01                    		MOV.L 20H[R0], R1
0000001C 6622                    		MOV.L #00000002H, R2
0000001E 39rrrr               W  		BSR _R_CAN_Control
00000021 A982                    		MOV.L 18H[R0], R2
00000023 5712                    		OR R1, R2
00000025 A182                    		MOV.L R2, 18H[R0]
00000027                         L15:	; if_then_bb.split2
                                 ;     178     
                                 ;     179     /* Sleep -> RESET mode. ****************************************************/
                                 ;     180     api_status |= R_CAN_Control(ch_nr, RESET_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",180
00000027 AA01                    		MOV.L 20H[R0], R1
00000029 6642                    		MOV.L #00000004H, R2
0000002B 39rrrr               W  		BSR _R_CAN_Control
0000002E A982                    		MOV.L 18H[R0], R2
00000030 5712                    		OR R1, R2
00000032 A182                    		MOV.L R2, 18H[R0]
00000034                         L16:	; if_then_bb.split3
                                 ;     181     
                                 ;     182     /*** Setting of CAN0 Control register.***/
                                 ;     183     /* BOM:    Bus Off recovery mode acc. to IEC11898-1 */
                                 ;     184     can_block_p->CTLR.BIT.BOM = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",184
00000034 A881                    		MOV.L 08H[R0], R1
00000036 5A1E4006                		MOVU.B 0640H[R1], R14
0000003A 762EE700                		AND #0E7H, R14
0000003E CB1E4006                		MOV.B R14, 0640H[R1]
00000042                         L17:	; if_then_bb.split4
                                 ;     185 
                                 ;     186 	/* MBM: Select normal mailbox mode. */
                                 ;     187 	can_block_p->CTLR.BIT.MBM = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",187
00000042 A881                    		MOV.L 08H[R0], R1
00000044 F2184106                		BCLR #00H, 0641H[R1].B
00000048                         L18:	; if_then_bb.split5
                                 ;     188     
                                 ;     189     /* IDFM: Select ID mode. */
                                 ;     190     can_block_p->CTLR.BIT.IDFM = FRAME_ID_MODE;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",190
00000048 A881                    		MOV.L 08H[R0], R1
0000004A 5A1E4106                		MOVU.B 0641H[R1], R14
0000004E 762EF900                		AND #0F9H, R14
00000052 CB1E4106                		MOV.B R14, 0641H[R1]
00000056                         L19:	; if_then_bb.split6
                                 ;     191     
                                 ;     192     /*     :    0 = Overwrite mode: Latest message overwrites old.
                                 ;     193             1 = Overrun mode: Latest message discarded. */
                                 ;     194     can_block_p->CTLR.BIT.MLM = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",194
00000056 A881                    		MOV.L 08H[R0], R1
00000058 F21B4106                		BCLR #03H, 0641H[R1].B
0000005C                         L20:	; if_then_bb.split7
                                 ;     195     /* TPM: ID priority mode. */
                                 ;     196     can_block_p->CTLR.BIT.TPM = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",196
0000005C A881                    		MOV.L 08H[R0], R1
0000005E F21C4106                		BCLR #04H, 0641H[R1].B
00000062                         L21:	; if_then_bb.split8
                                 ;     197     /* TSRC: Only to be set to 1 in operation mode */
                                 ;     198     can_block_p->CTLR.BIT.TSRC = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",198
00000062 A881                    		MOV.L 08H[R0], R1
00000064 F21D4106                		BCLR #05H, 0641H[R1].B
00000068                         L22:	; if_then_bb.split9
                                 ;     199     /* TSPS: Update every 8 bit times */
                                 ;     200     can_block_p->CTLR.BIT.TSPS = 3;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",200
00000068 A881                    		MOV.L 08H[R0], R1
0000006A 5A1E4106                		MOVU.B 0641H[R1], R14
0000006E 763EC000                		OR #0C0H, R14
00000072 CB1E4106                		MOV.B R14, 0641H[R1]
00000076                         L23:	; if_then_bb.split10
                                 ;     201 
                                 ;     202     /* Set BAUDRATE */
                                 ;     203     R_CAN_SetBitrate(ch_nr);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",203
00000076 AA01                    		MOV.L 20H[R0], R1
00000078 39rrrr               W  		BSR _R_CAN_SetBitrate
0000007B                         L24:	; if_then_bb.split11
                                 ;     204 
                                 ;     205     /* Reset -> HALT mode ******************************************************/
                                 ;     206     api_status |= R_CAN_Control(ch_nr, HALT_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",206
0000007B AA01                    		MOV.L 20H[R0], R1
0000007D 6652                    		MOV.L #00000005H, R2
0000007F 39rrrr               W  		BSR _R_CAN_Control
00000082 A982                    		MOV.L 18H[R0], R2
00000084 5712                    		OR R1, R2
00000086 A182                    		MOV.L R2, 18H[R0]
00000088                         L25:	; if_then_bb.split12
                                 ;     207 
                                 ;     208     /* Configure CAN interrupts. */ 
                                 ;     209     R_CAN_ConfigCANinterrupts(ch_nr);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",209
00000088 AA01                    		MOV.L 20H[R0], R1
0000008A 39rrrr               W  		BSR __$R_CAN_ConfigCANinterrupts
0000008D                         L26:	; if_then_bb.split13
                                 ;     210 
                                 ;     211     /* Configure mailboxes in Halt mode. */
                                 ;     212     for (i = 0; i < 32; i++)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",212
0000008D 3E0500                  		MOV.L #00000000H, 14H[R0]
00000090 2Err                 B  		BRA L37
00000092                         L27:	; if_else_bb
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",173
00000092 3E0120                  		MOV.L #00000020H, 04H[R0]
00000095 38rrrr               W  		BRA L57
00000098                         L28:	; bb75
                                 ;     213     {
                                 ;     214         can_block_p->MB[i].ID.LONG = 0x00;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",214
00000098 A90A                    		MOV.L 14H[R0], R2
0000009A 6C42                    		SHLL #04H, R2
0000009C 4B21                    		ADD R2, R1
0000009E F81600                  		MOV.L #00000000H, [R1]
000000A1                         L29:	; bb75.split
                                 ;     215         can_block_p->MB[i].DLC.WORD = 0x00;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",215
000000A1 A909                    		MOV.L 14H[R0], R1
000000A3 6C41                    		SHLL #04H, R1
000000A5 A882                    		MOV.L 08H[R0], R2
000000A7 4B12                    		ADD R1, R2
000000A9 3D2200                  		MOV.W #0000H, 04H[R2]
000000AC                         L30:	; bb75.split14
                                 ;     216         for (j = 0; j < 8; j++)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",216
000000AC 3E0400                  		MOV.L #00000000H, 10H[R0]
000000AF 2Err                 B  		BRA L32
000000B1                         L31:	; bb90
                                 ;     217         {
                                 ;     218             can_block_p->MB[i].DATA[j] = 0x00;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",218
000000B1 A909                    		MOV.L 14H[R0], R1
000000B3 6C41                    		SHLL #04H, R1
000000B5 A882                    		MOV.L 08H[R0], R2
000000B7 4B12                    		ADD R1, R2
000000B9 06890204                		ADD 10H[R0].L, R2
000000BD 3C2600                  		MOV.B #00H, 06H[R2]
000000C0 A901                    		MOV.L 10H[R0], R1
000000C2 6211                    		ADD #01H, R1
000000C4 A101                    		MOV.L R1, 10H[R0]
000000C6                         L32:	; bb102
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",216
000000C6 A901                    		MOV.L 10H[R0], R1
000000C8 6181                    		CMP #08H, R1
000000CA 23rr                    		BLTU L31
000000CC                         L33:	; bb107
                                 ;     219         }
                                 ;     220         for (j = 0; j < 2; j++)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",220
000000CC 3E0400                  		MOV.L #00000000H, 10H[R0]
000000CF 2Err                 B  		BRA L35
000000D1                         L34:	; bb108
                                 ;     221         {
                                 ;     222             can_block_p->MB[i].TS.WORD = 0x00;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",222
000000D1 A909                    		MOV.L 14H[R0], R1
000000D3 6C41                    		SHLL #04H, R1
000000D5 A882                    		MOV.L 08H[R0], R2
000000D7 4B12                    		ADD R1, R2
000000D9 3D2700                  		MOV.W #0000H, 0EH[R2]
000000DC A901                    		MOV.L 10H[R0], R1
000000DE 6211                    		ADD #01H, R1
000000E0 A101                    		MOV.L R1, 10H[R0]
000000E2                         L35:	; bb118
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",220
000000E2 A901                    		MOV.L 10H[R0], R1
000000E4 6121                    		CMP #02H, R1
000000E6 23rr                    		BLTU L34
000000E8                         L36:	; bb123
000000E8 A909                    		MOV.L 14H[R0], R1
000000EA 6211                    		ADD #01H, R1
000000EC A109                    		MOV.L R1, 14H[R0]
000000EE                         L37:	; bb126
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",212
000000EE A909                    		MOV.L 14H[R0], R1
000000F0 755120                  		CMP #20H, R1
000000F3 A881                    		MOV.L 08H[R0], R1
000000F5 23rr                    		BLTU L28
000000F7                         L38:	; bb131
                                 ;     223         }
                                 ;     224     }    
                                 ;     225 
                                 ;     226 	/* Mask invalid for all mailboxes by default. */
                                 ;     227 	can_block_p->MKIVLR = 0xFFFFFFFF;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",227
000000F7 F9168AFF                		MOV.L #0FFFFFFFFH, 0228H[R1]
000000FB                         L39:	; bb131.split
                                 ;     228 
                                 ;     229     /* Halt -> OPERATION mode **************************************************/
                                 ;     230     /* Note: EST and BLIF flag go high here when stepping code in debugger. */
                                 ;     231     api_status |= R_CAN_Control(ch_nr, OPERATE_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",231
000000FB AA01                    		MOV.L 20H[R0], R1
000000FD 6662                    		MOV.L #00000006H, R2
000000FF 39rrrr               W  		BSR _R_CAN_Control
00000102 A982                    		MOV.L 18H[R0], R2
00000104 5712                    		OR R1, R2
00000106 A182                    		MOV.L R2, 18H[R0]
00000108                         L40:	; bb131.split15
                                 ;     232 
                                 ;     233     /* Time Stamp Counter reset. Set the TSRC bit to 1 in CAN Operation mode. */
                                 ;     234     can_block_p->CTLR.BIT.TSRC = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",234
00000108 A881                    		MOV.L 08H[R0], R1
0000010A F2154106                		BSET #05H, 0641H[R1].B
0000010E                         L41:	; bb145
                                 ;     235 
                                 ;     236     while ((can_block_p->CTLR.BIT.TSRC) && DEC_CHK_CAN_SW_TMR)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",236
0000010E A881                    		MOV.L 08H[R0], R1
00000110 F6154106                		BTST #05H, 0641H[R1].B
00000114 20rr                    		BEQ L44
00000116                         L42:	; bb158
00000116 A889                    		MOV.L 0CH[R0], R1
00000118 6011                    		SUB #01H, R1
0000011A A089                    		MOV.L R1, 0CH[R0]
0000011C 6101                    		CMP #00H, R1
0000011E 10                   S  		BEQ L44
0000011F                         L43:	; bb164
0000011F F80601                  		MOV.L #00000001H, [R0]
00000122 08                   S  		BRA L45
00000123                         L44:	; bb165
00000123 F80600                  		MOV.L #00000000H, [R0]
00000126                         L45:	; bb166
00000126 EC01                    		MOV.L [R0], R1
00000128 6101                    		CMP #00H, R1
0000012A 21rr                    		BNE L41
0000012C                         L46:	; bb171
                                 ;     237     {
                                 ;     238     }
                                 ;     239 
                                 ;     240     if (can_tmo_cnt == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",240
0000012C A889                    		MOV.L 0CH[R0], R1
0000012E 6101                    		CMP #00H, R1
00000130 18                   S  		BNE L48
00000131                         L47:	; if_then_bb176
                                 ;     241     {
                                 ;     242         api_status |= R_CAN_SW_TSRC_ERR;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",242
00000131 A981                    		MOV.L 18H[R0], R1
00000133 78C1                    		BSET #0CH, R1
00000135 A181                    		MOV.L R1, 18H[R0]
00000137                         L48:	; if_break_bb179
                                 ;     243     }
                                 ;     244     
                                 ;     245     /* Check for errors so far, report, and clear. */
                                 ;     246     if (can_block_p->STR.BIT.EST)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",246
00000137 A881                    		MOV.L 08H[R0], R1
00000139 5A1E4306                		MOVU.B 0643H[R1], R14
0000013D 687E                    		SHLR #07H, R14
0000013F 610E                    		CMP #00H, R14
00000141 10                   S  		BEQ L50
00000142                         L49:	; if_then_bb192
                                 ;     247     {
                                 ;     248         api_status |= R_CAN_SW_RST_ERR;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",248
00000142 A981                    		MOV.L 18H[R0], R1
00000144 78B1                    		BSET #0BH, R1
00000146 A181                    		MOV.L R1, 18H[R0]
00000148                         L50:	; if_break_bb195
                                 ;     249     }
                                 ;     250 
                                 ;     251     /* Clear Error Interrupt Factor Judge Register. */
                                 ;     252     if (can_block_p->EIFR.BYTE)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",252
00000148 A881                    		MOV.L 08H[R0], R1
0000014A 5A1E4D06                		MOVU.B 064DH[R1], R14
0000014E 610E                    		CMP #00H, R14
00000150 10                   S  		BEQ L52
00000151                         L51:	; if_then_bb204
                                 ;     253     {
                                 ;     254         api_status |= R_CAN_SW_RST_ERR;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",254
00000151 A981                    		MOV.L 18H[R0], R1
00000153 78B1                    		BSET #0BH, R1
00000155 A181                    		MOV.L R1, 18H[R0]
00000157                         L52:	; if_break_bb207
                                 ;     255     }
                                 ;     256 
                                 ;     257     can_block_p->EIFR.BYTE = 0x00;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",257
00000157 A881                    		MOV.L 08H[R0], R1
00000159 FA144D0600              		MOV.B #00H, 064DH[R1]
0000015E                         L53:	; if_break_bb207.split
                                 ;     258 
                                 ;     259     /* Clear Error Code Store Register. */
                                 ;     260     if (can_block_p->ECSR.BYTE)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",260
0000015E A881                    		MOV.L 08H[R0], R1
00000160 5A1E5006                		MOVU.B 0650H[R1], R14
00000164 610E                    		CMP #00H, R14
00000166 10                   S  		BEQ L55
00000167                         L54:	; if_then_bb219
                                 ;     261     {
                                 ;     262         api_status |= R_CAN_SW_RST_ERR;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",262
00000167 A981                    		MOV.L 18H[R0], R1
00000169 78B1                    		BSET #0BH, R1
0000016B A181                    		MOV.L R1, 18H[R0]
0000016D                         L55:	; if_break_bb222
                                 ;     263     }
                                 ;     264     can_block_p->ECSR.BYTE = 0x00;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",264
0000016D A881                    		MOV.L 08H[R0], R1
0000016F FA14500600              		MOV.B #00H, 0650H[R1]
00000174                         L56:	; if_break_bb222.split
                                 ;     265 
                                 ;     266     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",266
00000174 E5000601                		MOV.L 18H[R0], 04H[R0]
00000178                         L57:	; bb228
00000178 A809                    		MOV.L 04H[R0], R1
0000017A A189                    		MOV.L R1, 1CH[R0]
                                 ;     267 }/* end R_CAN_Create() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",267
0000017C 6709                    		RTSD #24H
0000017E                         _R_CAN_PortSet:
                                 		.STACK	_R_CAN_PortSet=28
                                 ;     268 
                                 ;     269 /***********************************************************************************
                                 ;     270 Function Name:  R_CAN_PortSet
                                 ;     271 Description:    Configures the MCU and transceiver port pins. This function is 
                                 ;     272                 responsible for configuring the MCU and transceiver port pins. 
                                 ;     273                 Transceiver port pins such as Enable will vary depending on design, 
                                 ;     274                 and this fucntion must then be modified. The function is also used 
                                 ;     275                 to enter the CAN port test modes, such as Listen Only.
                                 ;     276             
                                 ;     277                 Typical TJA1041 transceiver voltages with CAN active for RX/62N 
                                 ;     278                 RSK (ROK5562N0C):
                                 ;     279                     PIN:        Voltage
                                 ;     280                     1    TXD        3.25
                                 ;     281                     2    GND        0.00
                                 ;     282                     3    VCC        5.08
                                 ;     283                     4    RXD        3.20
                                 ;     284                     5    VIO        3.25
                                 ;     285                     6    EN         3.25
                                 ;     286                     7    INH        5.08
                                 ;     287                     8    ERR        0.10
                                 ;     288                     9    WAKE       0.00
                                 ;     289                     10   VBAT       5.08
                                 ;     290                     11   SPLIT      2.57
                                 ;     291                     12   CANL       2.56
                                 ;     292                     13   CANH       2.56
                                 ;     293                     14   STB        3.25
                                 ;     294 Parameters:     ch_nr 
                                 ;     295                 action_types: ENABLE, DISABLE, CANPORT_TEST_LISTEN_ONLY, 
                                 ;     296                 CANPORT_TEST_0_EXT_LOOPBACK, CANPORT_TEST_1_INT_LOOPBACK, and
                                 ;     297                 CANPORT_RETURN_TO_NORMAL which is the default; no need to call 
                                 ;     298                 unless another test mode was invoked previously.
                                 ;     299 Return value:   R_CAN_OK                Action completed successfully.
                                 ;     300                 R_CAN_SW_BAD_MBX        Bad mailbox number.
                                 ;     301                 R_CAN_BAD_CH_NR         The channel number does not exist.
                                 ;     302                 R_CAN_BAD_ACTION_TYPE   No such action type exists for this function.
                                 ;     303                 R_CAN_SW_HALT_ERR       The CAN peripheral did not enter Halt mode.
                                 ;     304                 R_CAN_SW_RST_ERR        The CAN peripheral did not enter Reset mode.
                                 ;     305                 See also R_CAN_Control return values.
                                 ;     306 ***********************************************************************************/
                                 ;     307 uint32_t R_CAN_PortSet(const uint32_t ch_nr, const uint32_t action_type)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",307
0000017E 7100E8                  		ADD #0FFFFFFE8H, R0
00000181 A109                    		MOV.L R1, 14H[R0]
00000183 A102                    		MOV.L R2, 10H[R0]
                                 ;     308 {  
                                 ;     309     uint32_t api_status = R_CAN_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",309
00000185 3E0200                  		MOV.L #00000000H, 08H[R0]
00000188                         L59:	; entry.split
                                 ;     310     volatile struct st_can __evenaccess * can_block_p;
                                 ;     311     
                                 ;     312     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",312
00000188 A909                    		MOV.L 14H[R0], R1
0000018A 6101                    		CMP #00H, R1
0000018C 21rr                    		BNE L63
0000018E                         L60:	; if_then_bb
                                 ;     313     {
                                 ;     314         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",314
0000018E F90E01000209            		MOV.L #00090200H, 04H[R0]
00000194                         L61:	; if_then_bb.split
                                 ;     315     }
                                 ;     316     else
                                 ;     317     {
                                 ;     318         return R_CAN_BAD_CH_NR;        /* Channel does not exist for this MCU. */
                                 ;     319     }
                                 ;     320         
                                 ;     321     switch (action_type)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",321
00000194 A901                    		MOV.L 10H[R0], R1
00000196 61A1                    		CMP #0AH, R1
00000198 25rr                  * 		BGTU L92
         38rrrr                  
0000019D                         L62:	; if_then_bb.split
0000019D FBE2rrrrrrrr            		MOV.L #L95, R14
000001A3 FE51EE                  		.swmov L95, R1, R14, R14
000001A6                         L96:
000001A6 7F4E                    		BRA.L R14
000001A8                         L63:	; if_else_bb
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",318
000001A8 F80620                  		MOV.L #00000020H, [R0]
000001AB 38rrrr               W  		BRA L94
000001AE                         L64:	; switch_clause_bb
000001AE FBEE13C108              		MOV.L #0008C113H, R14
                                 ;     322     {
                                 ;     323 		case ENABLE:
                                 ;     324 			/* Enable the CTX0 and CRX0 pins. */
                                 ;     325 
                                 ;     326 			/* Port function control register J (PFJCAN) is used to configure I/O pin.
                                 ;     327 			1: The CTX0 and CRX0 pins are enabled. */
                                 ;     328 			PFJCAN_REG = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",328
000001B3 F0E0                    		BSET #00H, [R14].B
000001B5                         L65:	; switch_clause_bb.split
                                 ;     329 
                                 ;     330 			CTX0_PORT_PIN = 1;	//CTX0 is output
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",330
000001B5 FBEE03C008              		MOV.L #0008C003H, R14
000001BA F0E2                    		BSET #02H, [R14].B
000001BC                         L66:	; switch_clause_bb.split1
                                 ;     331 			CRX0_PORT_PIN = 0;	//CRX0 is input
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",331
000001BC FBEE03C008              		MOV.L #0008C003H, R14
000001C1 F0EB                    		BCLR #03H, [R14].B
000001C3                         L67:	; switch_clause_bb.split2
                                 ;     332 
                                 ;     333 			/* Set Input Buffer Control Register for CRX0 to connect input to CAN peripheral. */
                                 ;     334 			CRX0_PORT_INP_CTRL = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",334
000001C3 FBEE03C008              		MOV.L #0008C003H, R14
000001C8 F1E360                  		BSET #03H, 60H[R14].B
000001CB                         L68:	; switch_clause_bb.split3
                                 ;     335 
                                 ;     336 			/* Configure CAN0 STBn pin. See config.h. */
                                 ;     337 			CAN_TRX_DDR( CAN0_TRX_STB_PORT, CAN0_TRX_STB_PIN ) = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",337
000001CB FBEE04C008              		MOV.L #0008C004H, R14
000001D0 F0E1                    		BSET #01H, [R14].B
000001D2                         L69:	; switch_clause_bb.split4
                                 ;     338 
                                 ;     339 			CAN_TRX_DR(CAN0_TRX_STB_PORT, CAN0_TRX_STB_PIN) = CAN0_TRX_STB_LVL;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",339
000001D2 FBEE04C008              		MOV.L #0008C004H, R14
000001D7 F1E120                  		BSET #01H, 20H[R14].B
000001DA                         L70:	; switch_clause_bb.split5
                                 ;     340 
                                 ;     341 			/* Configure CAN0 EN pin. */
                                 ;     342 			CAN_TRX_DDR( CAN0_TRX_ENABLE_PORT, CAN0_TRX_ENABLE_PIN ) = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",342
000001DA FBEE04C008              		MOV.L #0008C004H, R14
000001DF F0E2                    		BSET #02H, [R14].B
000001E1                         L71:	; switch_clause_bb.split6
                                 ;     343 			CAN_TRX_DR(CAN0_TRX_ENABLE_PORT, CAN0_TRX_ENABLE_PIN) = CAN0_TRX_ENABLE_LVL;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",343
000001E1 FBEE04C008              		MOV.L #0008C004H, R14
000001E6 F1E220                  		BSET #02H, 20H[R14].B
000001E9 38rrrr               W  		BRA L93
000001EC                         L72:	; switch_clause_bb9
000001EC FBEE13C108              		MOV.L #0008C113H, R14
                                 ;     344 		break;
                                 ;     345 
                                 ;     346 		case DISABLE:
                                 ;     347 			/* Configure CAN0 TX and RX pins. */
                                 ;     348 
                                 ;     349 			/* Port function control register J (PFJCAN) is used to configure I/O pin
                                 ;     350 			0: The CTX0 and CRX0 pins are disabled. */
                                 ;     351 			PFJCAN_REG = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",351
000001F1 F0E8                    		BCLR #00H, [R14].B
000001F3                         L73:	; switch_clause_bb9.split
                                 ;     352 
                                 ;     353 			/* Configure CAN0 STBn pin. See config.h. */
                                 ;     354 			CAN_TRX_DDR( CAN0_TRX_STB_PORT, CAN0_TRX_STB_PIN ) = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",354
000001F3 FBEE04C008              		MOV.L #0008C004H, R14
000001F8 F0E1                    		BSET #01H, [R14].B
000001FA                         L74:	; switch_clause_bb9.split7
                                 ;     355 			CAN_TRX_DR(CAN0_TRX_STB_PORT, CAN0_TRX_STB_PIN) = !CAN0_TRX_STB_LVL; //Negated level
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",355
000001FA FBEE04C008              		MOV.L #0008C004H, R14
000001FF F1E920                  		BCLR #01H, 20H[R14].B
00000202                         L75:	; switch_clause_bb9.split8
                                 ;     356 
                                 ;     357 			/* Configure CAN0 EN pin. */
                                 ;     358 			CAN_TRX_DDR( CAN0_TRX_ENABLE_PORT, CAN0_TRX_ENABLE_PIN ) = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",358
00000202 FBEE04C008              		MOV.L #0008C004H, R14
00000207 F0E2                    		BSET #02H, [R14].B
00000209                         L76:	; switch_clause_bb9.split9
                                 ;     359 			CAN_TRX_DR(CAN0_TRX_ENABLE_PORT, CAN0_TRX_ENABLE_PIN) = !CAN0_TRX_ENABLE_LVL; //Negated level
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",359
00000209 FBEE04C008              		MOV.L #0008C004H, R14
0000020E F1EA20                  		BCLR #02H, 20H[R14].B
00000211 38rrrr               W  		BRA L93
00000214                         L77:	; switch_clause_bb10
                                 ;     360 		break;
                                 ;     361 
                                 ;     362 		/* Run in Listen Only test mode. */
                                 ;     363 		case CANPORT_TEST_LISTEN_ONLY:
                                 ;     364 			api_status = R_CAN_Control(ch_nr, HALT_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",364
00000214 A909                    		MOV.L 14H[R0], R1
00000216 6652                    		MOV.L #00000005H, R2
00000218 39rrrr               W  		BSR _R_CAN_Control
0000021B A081                    		MOV.L R1, 08H[R0]
0000021D                         L78:	; switch_clause_bb10.split
                                 ;     365 			can_block_p->TCR.BYTE = 0x03;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",365
0000021D A809                    		MOV.L 04H[R0], R1
0000021F FA14580603              		MOV.B #03H, 0658H[R1]
00000224                         L79:	; switch_clause_bb10.split10
                                 ;     366 			api_status |= R_CAN_Control(ch_nr, OPERATE_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",366
00000224 A909                    		MOV.L 14H[R0], R1
00000226 6662                    		MOV.L #00000006H, R2
00000228 39rrrr               W  		BSR _R_CAN_Control
0000022B A882                    		MOV.L 08H[R0], R2
0000022D 5712                    		OR R1, R2
0000022F A082                    		MOV.L R2, 08H[R0]
00000231                         L80:	; switch_clause_bb10.split11
00000231 6612                    		MOV.L #00000001H, R2
00000233 6601                    		MOV.L #00000000H, R1
                                 ;     367 			api_status |= R_CAN_PortSet(0, ENABLE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",367
00000235 39rrrr               W  		BSR _R_CAN_PortSet
00000238 A882                    		MOV.L 08H[R0], R2
0000023A 5712                    		OR R1, R2
0000023C A082                    		MOV.L R2, 08H[R0]
0000023E 2Err                 B  		BRA L93
00000240                         L81:	; switch_clause_bb23
                                 ;     368 		break;
                                 ;     369 
                                 ;     370 		/* Run in External Loopback test mode. */
                                 ;     371 		case CANPORT_TEST_0_EXT_LOOPBACK:
                                 ;     372 			api_status = R_CAN_Control(ch_nr, HALT_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",372
00000240 A909                    		MOV.L 14H[R0], R1
00000242 6652                    		MOV.L #00000005H, R2
00000244 39rrrr               W  		BSR _R_CAN_Control
00000247 A081                    		MOV.L R1, 08H[R0]
00000249                         L82:	; switch_clause_bb23.split
                                 ;     373 			can_block_p->TCR.BYTE = 0x05;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",373
00000249 A809                    		MOV.L 04H[R0], R1
0000024B FA14580605              		MOV.B #05H, 0658H[R1]
00000250                         L83:	; switch_clause_bb23.split12
                                 ;     374 			api_status |= R_CAN_Control(ch_nr, OPERATE_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",374
00000250 A909                    		MOV.L 14H[R0], R1
00000252 6662                    		MOV.L #00000006H, R2
00000254 39rrrr               W  		BSR _R_CAN_Control
00000257 A882                    		MOV.L 08H[R0], R2
00000259 5712                    		OR R1, R2
0000025B A082                    		MOV.L R2, 08H[R0]
0000025D                         L84:	; switch_clause_bb23.split13
0000025D 6612                    		MOV.L #00000001H, R2
0000025F 6601                    		MOV.L #00000000H, R1
                                 ;     375 			api_status |= R_CAN_PortSet(0, ENABLE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",375
00000261 39rrrr               W  		BSR _R_CAN_PortSet
00000264 A882                    		MOV.L 08H[R0], R2
00000266 5712                    		OR R1, R2
00000268 A082                    		MOV.L R2, 08H[R0]
0000026A 2Err                 B  		BRA L93
0000026C                         L85:	; switch_clause_bb36
                                 ;     376 		break;
                                 ;     377 
                                 ;     378 		/* Run in Internal Loopback test mode. */
                                 ;     379 		case CANPORT_TEST_1_INT_LOOPBACK:
                                 ;     380 			api_status = R_CAN_Control(ch_nr, HALT_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",380
0000026C A909                    		MOV.L 14H[R0], R1
0000026E 6652                    		MOV.L #00000005H, R2
00000270 39rrrr               W  		BSR _R_CAN_Control
00000273 A081                    		MOV.L R1, 08H[R0]
00000275                         L86:	; switch_clause_bb36.split
                                 ;     381 			can_block_p->TCR.BYTE = 0x07;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",381
00000275 A809                    		MOV.L 04H[R0], R1
00000277 FA14580607              		MOV.B #07H, 0658H[R1]
0000027C                         L87:	; switch_clause_bb36.split14
                                 ;     382 			api_status |= R_CAN_Control(ch_nr, OPERATE_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",382
0000027C A909                    		MOV.L 14H[R0], R1
0000027E 6662                    		MOV.L #00000006H, R2
00000280 39rrrr               W  		BSR _R_CAN_Control
00000283 A882                    		MOV.L 08H[R0], R2
00000285 5712                    		OR R1, R2
00000287 A082                    		MOV.L R2, 08H[R0]
00000289 2Err                 B  		BRA L93
0000028B                         L88:	; switch_clause_bb46
                                 ;     383 		break;
                                 ;     384 
                                 ;     385 		/* Return to default CAN bus mode.
                                 ;     386 		This is the default setting at CAN reset. */
                                 ;     387 		case CANPORT_RETURN_TO_NORMAL:
                                 ;     388 			api_status = R_CAN_Control(ch_nr, HALT_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",388
0000028B A909                    		MOV.L 14H[R0], R1
0000028D 6652                    		MOV.L #00000005H, R2
0000028F 39rrrr               W  		BSR _R_CAN_Control
00000292 A081                    		MOV.L R1, 08H[R0]
00000294                         L89:	; switch_clause_bb46.split
                                 ;     389 			can_block_p->TCR.BYTE = 0x00;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",389
00000294 A809                    		MOV.L 04H[R0], R1
00000296 FA14580600              		MOV.B #00H, 0658H[R1]
0000029B                         L90:	; switch_clause_bb46.split15
                                 ;     390 			api_status |= R_CAN_Control(ch_nr, OPERATE_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",390
0000029B A909                    		MOV.L 14H[R0], R1
0000029D 6662                    		MOV.L #00000006H, R2
0000029F 39rrrr               W  		BSR _R_CAN_Control
000002A2 A882                    		MOV.L 08H[R0], R2
000002A4 5712                    		OR R1, R2
000002A6 A082                    		MOV.L R2, 08H[R0]
000002A8                         L91:	; switch_clause_bb46.split16
000002A8 6612                    		MOV.L #00000001H, R2
000002AA 6601                    		MOV.L #00000000H, R1
                                 ;     391 			api_status |= R_CAN_PortSet(0, ENABLE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",391
000002AC 39rrrr               W  		BSR _R_CAN_PortSet
000002AF A882                    		MOV.L 08H[R0], R2
000002B1 5712                    		OR R1, R2
000002B3 A082                    		MOV.L R2, 08H[R0]
000002B5 08                   S  		BRA L93
000002B6                         L92:	; switch_clause_bb59
                                 ;     392 		break;
                                 ;     393 
                                 ;     394 		default:
                                 ;     395 			/* Bad action type. */
                                 ;     396 			api_status = R_CAN_BAD_ACTION_TYPE;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",396
000002B6 3E0280                  		MOV.L #00000080H, 08H[R0]
000002B9                         L93:	; switch_break_bb
                                 ;     397 		break;
                                 ;     398     }
                                 ;     399     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",399
000002B9 E10002                  		MOV.L 08H[R0], [R0]
000002BC                         L94:	; bb62
000002BC EC01                    		MOV.L [R0], R1
000002BE A089                    		MOV.L R1, 0CH[R0]
                                 ;     400 }/* end R_CAN_PortSet() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",400
000002C0 6706                    		RTSD #18H
000002C2                         _R_CAN_Control:
                                 		.STACK	_R_CAN_Control=36
                                 ;     401 
                                 ;     402 /*******************************************************************************
                                 ;     403 Function Name:  R_CAN_Control
                                 ;     404 Description:    Controls transition to CAN operating modes determined by the CAN 
                                 ;     405                 Control register. For example, the Halt mode should be used to 
                                 ;     406                 later configure a recieve mailbox. 
                                 ;     407 Parameters:     ch_nr
                                 ;     408                 action_type: EXITSLEEP_CANMODE, ENTERSLEEP_CANMODE,
                                 ;     409                 RESET_CANMODE, HALT_CANMODE, OPERATE_CANMODE.
                                 ;     410 Return value:   R_CAN_OK                Action completed successfully.
                                 ;     411                 R_CAN_SW_BAD_MBX        Bad mailbox number.
                                 ;     412                 R_CAN_BAD_CH_NR         The channel number does not exist.
                                 ;     413                 R_CAN_BAD_ACTION_TYPE   No such action type exists for this function.
                                 ;     414                 R_CAN_SW_WAKEUP_ERR     The CAN peripheral did not wake up from Sleep mode.
                                 ;     415                 R_CAN_SW_SLEEP_ERR      The CAN peripheral did enter Sleep mode.
                                 ;     416                 R_CAN_SW_RST_ERR        The CAN peripheral did not enter Halt mode.
                                 ;     417                 R_CAN_SW_HALT_ERR       The CAN peripheral did not enter Halt mode.
                                 ;     418                 R_CAN_SW_RST_ERR        The CAN peripheral did not enter Reset mode.
                                 ;     419                 See also R_CAN_PortSet return values.
                                 ;     420 *******************************************************************************/
                                 ;     421 uint32_t R_CAN_Control(const uint32_t ch_nr, const uint32_t action_type)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",421
000002C2 7100E0                  		ADD #0FFFFFFE0H, R0
000002C5 A189                    		MOV.L R1, 1CH[R0]
000002C7 A182                    		MOV.L R2, 18H[R0]
                                 ;     422 {
                                 ;     423     uint32_t api_status = R_CAN_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",423
000002C9 3E0400                  		MOV.L #00000000H, 10H[R0]
000002CC                         L98:	; entry.split
                                 ;     424     uint32_t can_tmo_cnt = MAX_CAN_SW_DELAY;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",424
000002CC F90A030020              		MOV.L #00002000H, 0CH[R0]
000002D1                         L99:	; entry.split1
                                 ;     425     volatile struct st_can __evenaccess * can_block_p;
                                 ;     426     
                                 ;     427     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",427
000002D1 A989                    		MOV.L 1CH[R0], R1
000002D3 6101                    		CMP #00H, R1
000002D5 21rr                    		BNE L106
000002D7                         L100:	; if_then_bb
                                 ;     428     {
                                 ;     429         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",429
000002D7 F90E02000209            		MOV.L #00090200H, 08H[R0]
000002DD                         L101:	; if_then_bb.split
                                 ;     430     }
                                 ;     431     else
                                 ;     432     {
                                 ;     433         return R_CAN_BAD_CH_NR;        /* Channel does not exist for this MCU. */
                                 ;     434     }
                                 ;     435 
                                 ;     436     switch (action_type)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",436
000002DD A981                    		MOV.L 18H[R0], R1
000002DF 6121                    		CMP #02H, R1
000002E1 20rr                    		BEQ L107
000002E3                         L102:	; if_then_bb.split
000002E3 6131                    		CMP #03H, R1
000002E5 20rr                    		BEQ L116
000002E7                         L103:	; if_then_bb.split
000002E7 6141                    		CMP #04H, R1
000002E9 3Arrrr               W  		BEQ L129
000002EC                         L104:	; if_then_bb.split
000002EC 6151                    		CMP #05H, R1
000002EE 3Arrrr               W  		BEQ L140
000002F1                         L105:	; if_then_bb.split
000002F1 6161                    		CMP #06H, R1
000002F3 3Arrrr               W  		BEQ L151
000002F6 38rrrr               W  		BRA L170
000002F9                         L106:	; if_else_bb
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",433
000002F9 3E0120                  		MOV.L #00000020H, 04H[R0]
000002FC 38rrrr               W  		BRA L172
000002FF                         L107:	; switch_clause_bb
                                 ;     437     {
                                 ;     438 		case EXITSLEEP_CANMODE:
                                 ;     439 			/* Set to, and ensure that RCAN returns in, Sleep mode.
                                 ;     440 			Write to the SLPM bit (in CAN Reset or) CAN Halt mode,
                                 ;     441 			but if we are in Sleep mode, we should already also be
                                 ;     442 			in Halt mode. */
                                 ;     443 			can_block_p->CTLR.BIT.SLPM = CAN_NOT_SLEEP;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",443
000002FF A881                    		MOV.L 08H[R0], R1
00000301 F21A4006                		BCLR #02H, 0640H[R1].B
00000305 2Err                 B  		BRA L109
00000307                         L108:	; bb16
                                 ;     444 			while ((can_block_p->STR.BIT.SLPST) && DEC_CHK_CAN_SW_TMR)
                                 ;     445 			{
                                 ;     446 				nop();
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",446
00000307 03                      		NOP
00000308                         L109:	; bb17
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",444
00000308 A881                    		MOV.L 08H[R0], R1
0000030A F6124206                		BTST #02H, 0642H[R1].B
0000030E 20rr                    		BEQ L112
00000310                         L110:	; bb30
00000310 A889                    		MOV.L 0CH[R0], R1
00000312 6011                    		SUB #01H, R1
00000314 A089                    		MOV.L R1, 0CH[R0]
00000316 6101                    		CMP #00H, R1
00000318 10                   S  		BEQ L112
00000319                         L111:	; bb36
00000319 F80601                  		MOV.L #00000001H, [R0]
0000031C 08                   S  		BRA L113
0000031D                         L112:	; bb37
0000031D F80600                  		MOV.L #00000000H, [R0]
00000320                         L113:	; bb38
00000320 EC01                    		MOV.L [R0], R1
00000322 6101                    		CMP #00H, R1
00000324 21rr                    		BNE L108
00000326                         L114:	; bb43
                                 ;     447 			}
                                 ;     448 			if (can_tmo_cnt == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",448
00000326 A889                    		MOV.L 0CH[R0], R1
00000328 6101                    		CMP #00H, R1
0000032A 3Brrrr               W  		BNE L171
0000032D                         L115:	; if_then_bb48
                                 ;     449 			{
                                 ;     450 				api_status = R_CAN_SW_WAKEUP_ERR;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",450
0000032D F90A040001              		MOV.L #00000100H, 10H[R0]
00000332 38rrrr               W  		BRA L171
00000335                         L116:	; switch_clause_bb50
                                 ;     451 			}
                                 ;     452 		break;
                                 ;     453 
                                 ;     454 		case ENTERSLEEP_CANMODE:
                                 ;     455 			/* Set to, and ensure that RCAN returns in, the Sleep state.
                                 ;     456 			Write to the SLPM bit in CAN Reset or CAN Halt modes. */
                                 ;     457 			api_status = R_CAN_Control(ch_nr, HALT_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",457
00000335 A989                    		MOV.L 1CH[R0], R1
00000337 6652                    		MOV.L #00000005H, R2
00000339 39rrrr               W  		BSR _R_CAN_Control
0000033C A101                    		MOV.L R1, 10H[R0]
0000033E                         L117:	; switch_clause_bb50.split
                                 ;     458 
                                 ;     459 			can_block_p->CTLR.BIT.SLPM = CAN_SLEEP;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",459
0000033E A881                    		MOV.L 08H[R0], R1
00000340 F2124006                		BSET #02H, 0640H[R1].B
00000344 2Err                 B  		BRA L119
00000346                         L118:	; bb59
                                 ;     460 			while ((!can_block_p->STR.BIT.SLPST) && DEC_CHK_CAN_SW_TMR)
                                 ;     461 			{
                                 ;     462 				nop();
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",462
00000346 03                      		NOP
00000347                         L119:	; bb60
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",460
00000347 A881                    		MOV.L 08H[R0], R1
00000349 F6124206                		BTST #02H, 0642H[R1].B
0000034D 10                   S  		BEQ L121
0000034E                         L120:	; bb73
0000034E F80600                  		MOV.L #00000000H, [R0]
00000351 08                   S  		BRA L122
00000352                         L121:	; bb74
00000352 F80601                  		MOV.L #00000001H, [R0]
00000355                         L122:	; bb75
00000355 EC01                    		MOV.L [R0], R1
00000357 6101                    		CMP #00H, R1
00000359 20rr                    		BEQ L125
0000035B                         L123:	; bb78
0000035B A889                    		MOV.L 0CH[R0], R1
0000035D 6011                    		SUB #01H, R1
0000035F A089                    		MOV.L R1, 0CH[R0]
00000361 6101                    		CMP #00H, R1
00000363 10                   S  		BEQ L125
00000364                         L124:	; bb84
00000364 F80601                  		MOV.L #00000001H, [R0]
00000367 08                   S  		BRA L126
00000368                         L125:	; bb85
00000368 F80600                  		MOV.L #00000000H, [R0]
0000036B                         L126:	; bb86
0000036B EC01                    		MOV.L [R0], R1
0000036D 6101                    		CMP #00H, R1
0000036F 21rr                    		BNE L118
00000371                         L127:	; bb91
                                 ;     463 			}
                                 ;     464 			if (can_tmo_cnt == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",464
00000371 A889                    		MOV.L 0CH[R0], R1
00000373 6101                    		CMP #00H, R1
00000375 3Brrrr               W  		BNE L171
00000378                         L128:	; if_then_bb96
                                 ;     465 			{
                                 ;     466 				api_status = R_CAN_SW_SLEEP_ERR;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",466
00000378 F90A040002              		MOV.L #00000200H, 10H[R0]
0000037D 38rrrr               W  		BRA L171
00000380                         L129:	; switch_clause_bb98
                                 ;     467 			}
                                 ;     468 		break;
                                 ;     469 
                                 ;     470 		case RESET_CANMODE:
                                 ;     471 			/* Set to, and ensure that RCAN is in, the Reset state. */
                                 ;     472 			can_block_p->CTLR.BIT.CANM = CAN_RESET;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",472
00000380 A881                    		MOV.L 08H[R0], R1
00000382 5A1E4006                		MOVU.B 0640H[R1], R14
00000386 780E                    		BSET #00H, R14
00000388 762EFD00                		AND #0FDH, R14
0000038C CB1E4006                		MOV.B R14, 0640H[R1]
00000390                         L130:	; bb109
                                 ;     473 
                                 ;     474 			while ((!can_block_p->STR.BIT.RSTST) && DEC_CHK_CAN_SW_TMR)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",474
00000390 A881                    		MOV.L 08H[R0], R1
00000392 F6104206                		BTST #00H, 0642H[R1].B
00000396 10                   S  		BEQ L132
00000397                         L131:	; bb122
00000397 F80600                  		MOV.L #00000000H, [R0]
0000039A 08                   S  		BRA L133
0000039B                         L132:	; bb123
0000039B F80601                  		MOV.L #00000001H, [R0]
0000039E                         L133:	; bb124
0000039E EC01                    		MOV.L [R0], R1
000003A0 6101                    		CMP #00H, R1
000003A2 20rr                    		BEQ L136
000003A4                         L134:	; bb127
000003A4 A889                    		MOV.L 0CH[R0], R1
000003A6 6011                    		SUB #01H, R1
000003A8 A089                    		MOV.L R1, 0CH[R0]
000003AA 6101                    		CMP #00H, R1
000003AC 10                   S  		BEQ L136
000003AD                         L135:	; bb133
000003AD F80601                  		MOV.L #00000001H, [R0]
000003B0 08                   S  		BRA L137
000003B1                         L136:	; bb134
000003B1 F80600                  		MOV.L #00000000H, [R0]
000003B4                         L137:	; bb135
000003B4 EC01                    		MOV.L [R0], R1
000003B6 6101                    		CMP #00H, R1
000003B8 21rr                    		BNE L130
000003BA                         L138:	; bb140
                                 ;     475 			{
                                 ;     476 			}
                                 ;     477 
                                 ;     478 			if (can_tmo_cnt == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",478
000003BA A889                    		MOV.L 0CH[R0], R1
000003BC 6101                    		CMP #00H, R1
000003BE 3Brrrr               W  		BNE L171
000003C1                         L139:	; if_then_bb145
                                 ;     479 			{
                                 ;     480 				api_status = R_CAN_SW_RST_ERR;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",480
000003C1 F90A040008              		MOV.L #00000800H, 10H[R0]
000003C6 38rrrr               W  		BRA L171
000003C9                         L140:	; switch_clause_bb147
                                 ;     481 			}
                                 ;     482 		break;
                                 ;     483 
                                 ;     484 		case HALT_CANMODE:
                                 ;     485 			/* Set to, and ensure that RCAN is in, the Halt state. */
                                 ;     486 			/* The CAN module enters CAN Halt mode after waiting for the end of
                                 ;     487 			message reception or transmission. */
                                 ;     488 			can_block_p->CTLR.BIT.CANM = CAN_HALT;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",488
000003C9 A881                    		MOV.L 08H[R0], R1
000003CB 5A1E4006                		MOVU.B 0640H[R1], R14
000003CF 781E                    		BSET #01H, R14
000003D1 762EFE00                		AND #0FEH, R14
000003D5 CB1E4006                		MOV.B R14, 0640H[R1]
000003D9                         L141:	; bb158
                                 ;     489 
                                 ;     490 			while ((!can_block_p->STR.BIT.HLTST) && DEC_CHK_CAN_SW_TMR)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",490
000003D9 A881                    		MOV.L 08H[R0], R1
000003DB F6114206                		BTST #01H, 0642H[R1].B
000003DF 10                   S  		BEQ L143
000003E0                         L142:	; bb171
000003E0 F80600                  		MOV.L #00000000H, [R0]
000003E3 08                   S  		BRA L144
000003E4                         L143:	; bb172
000003E4 F80601                  		MOV.L #00000001H, [R0]
000003E7                         L144:	; bb173
000003E7 EC01                    		MOV.L [R0], R1
000003E9 6101                    		CMP #00H, R1
000003EB 20rr                    		BEQ L147
000003ED                         L145:	; bb176
000003ED A889                    		MOV.L 0CH[R0], R1
000003EF 6011                    		SUB #01H, R1
000003F1 A089                    		MOV.L R1, 0CH[R0]
000003F3 6101                    		CMP #00H, R1
000003F5 10                   S  		BEQ L147
000003F6                         L146:	; bb182
000003F6 F80601                  		MOV.L #00000001H, [R0]
000003F9 08                   S  		BRA L148
000003FA                         L147:	; bb183
000003FA F80600                  		MOV.L #00000000H, [R0]
000003FD                         L148:	; bb184
000003FD EC01                    		MOV.L [R0], R1
000003FF 6101                    		CMP #00H, R1
00000401 21rr                    		BNE L141
00000403                         L149:	; bb189
                                 ;     491             {
                                 ;     492             }
                                 ;     493 
                                 ;     494 			if (can_tmo_cnt == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",494
00000403 A889                    		MOV.L 0CH[R0], R1
00000405 6101                    		CMP #00H, R1
00000407 3Brrrr               W  		BNE L171
0000040A                         L150:	; if_then_bb194
                                 ;     495 			{
                                 ;     496 				api_status = R_CAN_SW_HALT_ERR;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",496
0000040A F90A040004              		MOV.L #00000400H, 10H[R0]
0000040F 38rrrr               W  		BRA L171
00000412                         L151:	; switch_clause_bb196
00000412 FBEE140008              		MOV.L #00080014H, R14
                                 ;     497 			}
                                 ;     498 
                                 ;     499 		break;
                                 ;     500 
                                 ;     501 		case OPERATE_CANMODE:
                                 ;     502 			/* Take CAN out of Stop mode. */
                                 ;     503 			SYSTEM.MSTPCRB.BIT.MSTPB0  =  0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",503
00000417 ECEF                    		MOV.L [R14], R15
00000419 7A0F                    		BCLR #00H, R15
0000041B E3EF                    		MOV.L R15, [R14]
0000041D 2Err                 B  		BRA L153
0000041F                         L152:	; bb200
                                 ;     504 			while ((SYSTEM.MSTPCRB.BIT.MSTPB0) && DEC_CHK_CAN_SW_TMR)
                                 ;     505 			{
                                 ;     506 				nop();
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",506
0000041F 03                      		NOP
00000420                         L153:	; bb201
00000420 FBEE140008              		MOV.L #00080014H, R14
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",504
00000425 ECEE                    		MOV.L [R14], R14
00000427 6DFE                    		SHLL #1FH, R14
00000429 69FE                    		SHLR #1FH, R14
0000042B 610E                    		CMP #00H, R14
0000042D 20rr                    		BEQ L156
0000042F                         L154:	; bb207
0000042F A889                    		MOV.L 0CH[R0], R1
00000431 6011                    		SUB #01H, R1
00000433 A089                    		MOV.L R1, 0CH[R0]
00000435 6101                    		CMP #00H, R1
00000437 10                   S  		BEQ L156
00000438                         L155:	; bb213
00000438 F80601                  		MOV.L #00000001H, [R0]
0000043B 08                   S  		BRA L157
0000043C                         L156:	; bb214
0000043C F80600                  		MOV.L #00000000H, [R0]
0000043F                         L157:	; bb215
0000043F EC01                    		MOV.L [R0], R1
00000441 6101                    		CMP #00H, R1
00000443 21rr                    		BNE L152
00000445                         L158:	; bb220
                                 ;     507 			}
                                 ;     508 
                                 ;     509 			/* Set to Operate mode. */
                                 ;     510 			can_block_p->CTLR.BIT.CANM = CAN_OPERATION;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",510
00000445 A881                    		MOV.L 08H[R0], R1
00000447 5A1E4006                		MOVU.B 0640H[R1], R14
0000044B 762EFC00                		AND #0FCH, R14
0000044F CB1E4006                		MOV.B R14, 0640H[R1]
00000453                         L159:	; bb231
                                 ;     511 
                                 ;     512 			/* Ensure that RCAN is in Operation mode. */
                                 ;     513 			while (((can_block_p->STR.BIT.HLTST) || (can_block_p->STR.BIT.RSTST)) && DEC_CHK_CAN_SW_TMR)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",513
00000453 A881                    		MOV.L 08H[R0], R1
00000455 F6114206                		BTST #01H, 0642H[R1].B
00000459 18                   S  		BNE L161
0000045A                         L160:	; bb244
0000045A A881                    		MOV.L 08H[R0], R1
0000045C F6104206                		BTST #00H, 0642H[R1].B
00000460 10                   S  		BEQ L162
00000461                         L161:	; bb257
00000461 F80601                  		MOV.L #00000001H, [R0]
00000464 08                   S  		BRA L163
00000465                         L162:	; bb258
00000465 F80600                  		MOV.L #00000000H, [R0]
00000468                         L163:	; bb259
00000468 EC01                    		MOV.L [R0], R1
0000046A 6101                    		CMP #00H, R1
0000046C 20rr                    		BEQ L166
0000046E                         L164:	; bb263
0000046E A889                    		MOV.L 0CH[R0], R1
00000470 6011                    		SUB #01H, R1
00000472 A089                    		MOV.L R1, 0CH[R0]
00000474 6101                    		CMP #00H, R1
00000476 10                   S  		BEQ L166
00000477                         L165:	; bb269
00000477 F80601                  		MOV.L #00000001H, [R0]
0000047A 08                   S  		BRA L167
0000047B                         L166:	; bb270
0000047B F80600                  		MOV.L #00000000H, [R0]
0000047E                         L167:	; bb271
0000047E EC01                    		MOV.L [R0], R1
00000480 6101                    		CMP #00H, R1
00000482 21rr                    		BNE L159
00000484                         L168:	; bb276
                                 ;     514 			{
                                 ;     515 			}
                                 ;     516 
                                 ;     517 			if (can_tmo_cnt == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",517
00000484 A889                    		MOV.L 0CH[R0], R1
00000486 6101                    		CMP #00H, R1
00000488 18                   S  		BNE L171
00000489                         L169:	; if_then_bb281
                                 ;     518 			{
                                 ;     519 				api_status = R_CAN_SW_RST_ERR;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",519
00000489 F90A040008              		MOV.L #00000800H, 10H[R0]
0000048E 08                   S  		BRA L171
0000048F                         L170:	; switch_clause_bb283
                                 ;     520 			}
                                 ;     521 		break;
                                 ;     522 		default:
                                 ;     523 			api_status = R_CAN_BAD_ACTION_TYPE;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",523
0000048F 3E0480                  		MOV.L #00000080H, 10H[R0]
00000492                         L171:	; switch_break_bb
                                 ;     524 		break;
                                 ;     525     }
                                 ;     526 
                                 ;     527     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",527
00000492 E5000401                		MOV.L 10H[R0], 04H[R0]
00000496                         L172:	; bb286
00000496 A809                    		MOV.L 04H[R0], R1
00000498 A109                    		MOV.L R1, 14H[R0]
                                 ;     528 }/* end R_CAN_Control() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",528
0000049A 6708                    		RTSD #20H
0000049C                         _R_CAN_TxSet:
                                 		.STACK	_R_CAN_TxSet=76
                                 ;     529 
                                 ;     530 /*******************************************************************************
                                 ;     531 Function Name:  R_CAN_TxSet
                                 ;     532 Description:    Set up a CAN mailbox to transmit.
                                 ;     533 Parameters:     Channel nr.
                                 ;     534                 Mailbox nr.
                                 ;     535                 frame_p - pointer to a data frame structure.
                                 ;     536                 remote - REMOTE_FRAME to send remote request, DATA_FRAME for 
                                 ;     537                 sending normal dataframe.
                                 ;     538 Return value:   R_CAN_OK                The mailbox was set up for transmission.
                                 ;     539                 R_CAN_SW_BAD_MBX        Bad mailbox number.
                                 ;     540                 R_CAN_BAD_CH_NR         The channel number does not exist.
                                 ;     541                 R_CAN_BAD_ACTION_TYPE   No such action type exists for this 
                                 ;     542                                         function.
                                 ;     543 *******************************************************************************/
                                 ;     544 uint32_t R_CAN_TxSet(   const uint32_t             ch_nr,
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",544
0000049C 7100B8                  		ADD #0FFFFFFB8H, R0
0000049F A209                    		MOV.L R1, 24H[R0]
000004A1 A202                    		MOV.L R2, 20H[R0]
000004A3 A18B                    		MOV.L R3, 1CH[R0]
000004A5 A184                    		MOV.L R4, 18H[R0]
                                 ;     545                         const uint32_t             mbox_nr,
                                 ;     546                         const can_frame_t*     frame_p,
                                 ;     547                         const uint32_t             frame_type)
                                 ;     548 {
                                 ;     549     uint32_t api_status = R_CAN_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",549
000004A7 3E0400                  		MOV.L #00000000H, 10H[R0]
000004AA                         L174:	; entry.split
                                 ;     550     uint32_t i;
                                 ;     551     volatile struct st_can __evenaccess * can_block_p;
                                 ;     552     
                                 ;     553     CHECK_MBX_NR
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",553
000004AA AA01                    		MOV.L 20H[R0], R1
000004AC 755120                  		CMP #20H, R1
000004AF 23rr                    		BLTU L176
000004B1                         L175:	; if_then_bb
000004B1 3E0140                  		MOV.L #00000040H, 04H[R0]
000004B4 38rrrr               W  		BRA L228
000004B7                         L176:	; if_break_bb
                                 ;     554     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",554
000004B7 AA09                    		MOV.L 24H[R0], R1
000004B9 6101                    		CMP #00H, R1
000004BB 3Brrrr               W  		BNE L208
000004BE                         L177:	; if_then_bb15
                                 ;     555     {
                                 ;     556         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",556
000004BE F90E02000209            		MOV.L #00090200H, 08H[R0]
000004C4                         L178:	; if_then_bb15.split
                                 ;     557     }
                                 ;     558     else
                                 ;     559     {
                                 ;     560         return R_CAN_BAD_CH_NR;        /* Channel does not exist for this MCU. */
                                 ;     561     }
                                 ;     562 
                                 ;     563     /* Wait for any previous transmission to complete. */
                                 ;     564     api_status = R_CAN_WaitTxRx(ch_nr, mbox_nr);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",564
000004C4 AA01                    		MOV.L 20H[R0], R1
000004C6 E5000911                		MOV.L 24H[R0], 44H[R0]
000004CA A401                    		MOV.L R1, 40H[R0]
000004CC                         L179:	; if_then_bb15.split1
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1157
000004CC 3E0E00                  		MOV.L #00000000H, 38H[R0]
000004CF                         L180:	; if_then_bb15.split2
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1158
000004CF F90A0D0020              		MOV.L #00002000H, 34H[R0]
000004D4                         L181:	; if_then_bb15.split3
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1161
000004D4 AC01                    		MOV.L 40H[R0], R1
000004D6 755120                  		CMP #20H, R1
000004D9 23rr                    		BLTU L183
000004DB                         L182:	; if_then_bb.i
000004DB 3E0B40                  		MOV.L #00000040H, 2CH[R0]
000004DE 38rrrr               W  		BRA L203
000004E1                         L183:	; if_break_bb.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1162
000004E1 AC09                    		MOV.L 44H[R0], R1
000004E3 6101                    		CMP #00H, R1
000004E5 21rr                    		BNE L186
000004E7                         L184:	; if_then_bb13.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1164
000004E7 F90E0C000209            		MOV.L #00090200H, 30H[R0]
000004ED                         L185:	; if_then_bb13.i.split
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1172
000004ED AB01                    		MOV.L 30H[R0], R1
000004EF 06890110                		ADD 40H[R0].L, R1
000004F3 5A1E2006                		MOVU.B 0620H[R1], R14
000004F7 687E                    		SHLR #07H, R14
000004F9 610E                    		CMP #00H, R14
000004FB 18                   S  		BNE L187
000004FC 2Err                 B  		BRA L194
000004FE                         L186:	; if_else_bb.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1168
000004FE 3E0B20                  		MOV.L #00000020H, 2CH[R0]
00000501 2Err                 B  		BRA L203
00000503                         L187:	; bb34.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1174
00000503 AB01                    		MOV.L 30H[R0], R1
00000505 06890110                		ADD 40H[R0].L, R1
00000509 F6102006                		BTST #00H, 0620H[R1].B
0000050D 21rr                    		BNE L190
0000050F                         L188:	; bb51.i
0000050F AB09                    		MOV.L 34H[R0], R1
00000511 6011                    		SUB #01H, R1
00000513 A309                    		MOV.L R1, 34H[R0]
00000515 6101                    		CMP #00H, R1
00000517 10                   S  		BEQ L190
00000518                         L189:	; bb57.i
00000518 3E0A01                  		MOV.L #00000001H, 28H[R0]
0000051B 08                   S  		BRA L191
0000051C                         L190:	; bb58.i
0000051C 3E0A00                  		MOV.L #00000000H, 28H[R0]
0000051F                         L191:	; bb59.i
0000051F AA81                    		MOV.L 28H[R0], R1
00000521 6101                    		CMP #00H, R1
00000523 21rr                    		BNE L187
00000525                         L192:	; bb64.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1178
00000525 AB09                    		MOV.L 34H[R0], R1
00000527 6101                    		CMP #00H, R1
00000529 21rr                    		BNE L202
0000052B                         L193:	; if_then_bb69.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1180
0000052B F90A0E0020              		MOV.L #00002000H, 38H[R0]
00000530 2Err                 B  		BRA L202
00000532                         L194:	; if_else_bb71.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1184
00000532 AB01                    		MOV.L 30H[R0], R1
00000534 06890110                		ADD 40H[R0].L, R1
00000538 F6162006                		BTST #06H, 0620H[R1].B
0000053C 20rr                    		BEQ L202
0000053E                         L195:	; bb91.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1186
0000053E AB01                    		MOV.L 30H[R0], R1
00000540 06890110                		ADD 40H[R0].L, R1
00000544 5A1E2006                		MOVU.B 0620H[R1], R14
00000548 681E                    		SHLR #01H, R14
0000054A 641E                    		AND #01H, R14
0000054C 611E                    		CMP #01H, R14
0000054E 21rr                    		BNE L198
00000550                         L196:	; bb108.i
00000550 AB09                    		MOV.L 34H[R0], R1
00000552 6011                    		SUB #01H, R1
00000554 A309                    		MOV.L R1, 34H[R0]
00000556 6101                    		CMP #00H, R1
00000558 10                   S  		BEQ L198
00000559                         L197:	; bb114.i
00000559 3E0A01                  		MOV.L #00000001H, 28H[R0]
0000055C 08                   S  		BRA L199
0000055D                         L198:	; bb115.i
0000055D 3E0A00                  		MOV.L #00000000H, 28H[R0]
00000560                         L199:	; bb116.i
00000560 AA81                    		MOV.L 28H[R0], R1
00000562 6101                    		CMP #00H, R1
00000564 21rr                    		BNE L195
00000566                         L200:	; bb121.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1190
00000566 AB09                    		MOV.L 34H[R0], R1
00000568 6101                    		CMP #00H, R1
0000056A 18                   S  		BNE L202
0000056B                         L201:	; if_then_bb126.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1192
0000056B F90A0E0040              		MOV.L #00004000H, 38H[R0]
00000570                         L202:	; if_break_bb129.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1195
00000570 E5000E0B                		MOV.L 38H[R0], 2CH[R0]
00000574                         L203:	; _$R_CAN_WaitTxRx.exit
00000574 AA89                    		MOV.L 2CH[R0], R1
00000576 A389                    		MOV.L R1, 3CH[R0]
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1196
00000578 A101                    		MOV.L R1, 10H[R0]
0000057A                         L204:	; _$R_CAN_WaitTxRx.exit.split
                                 ;     565 
                                 ;     566     /* Interrupt disable the mailbox.in case it was a receive mailbox */
                                 ;     567     can_block_p->MIER &= ~(bit_set[mbox_nr]);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",567
0000057A FBE2rrrrrrrr            		MOV.L #__$bit_set, R14
00000580 AA01                    		MOV.L 20H[R0], R1
00000582 FE61EE                  		MOV.L [R1,R14], R14
00000585 7E0E                    		NOT R14
00000587 A881                    		MOV.L 08H[R0], R1
00000589 ED1F8B                  		MOV.L 022CH[R1], R15
0000058C 53EF                    		AND R14, R15
0000058E E71F8B                  		MOV.L R15, 022CH[R1]
00000591                         L205:	; _$R_CAN_WaitTxRx.exit.split4
                                 ;     568 
                                 ;     569     /* Clear message mailbox control register. Setting TRMREQ to 0 should abort. Do a byte-write to avoid read-modify-write with HW writing another bit inbet
                                 ;     570      * Do it twice since "Bits SENTDATA and TRMREQ cannot be set to 0 simultaneously." */
                                 ;     571     can_block_p->MCTL[mbox_nr].BYTE = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",571
00000591 A881                    		MOV.L 08H[R0], R1
00000593 06890108                		ADD 20H[R0].L, R1
00000597 FA14200600              		MOV.B #00H, 0620H[R1]
0000059C                         L206:	; _$R_CAN_WaitTxRx.exit.split5
                                 ;     572     can_block_p->MCTL[mbox_nr].BYTE = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",572
0000059C A881                    		MOV.L 08H[R0], R1
0000059E 06890108                		ADD 20H[R0].L, R1
000005A2 FA14200600              		MOV.B #00H, 0620H[R1]
000005A7                         L207:	; _$R_CAN_WaitTxRx.exit.split6
                                 ;     573 
                                 ;     574     /*** Set Mailbox ID based on ID mode ***/
                                 ;     575     if (frame_p->id & XID_MASK)    /* Check for XID flag bit set in ID field */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",575
000005A7 AA01                    		MOV.L 20H[R0], R1
000005A9 6C41                    		SHLL #04H, R1
000005AB A882                    		MOV.L 08H[R0], R2
000005AD 4B12                    		ADD R1, R2
000005AF A989                    		MOV.L 1CH[R0], R1
000005B1 EC1E                    		MOV.L [R1], R14
000005B3 FBF2000000E0            		MOV.L #0E0000000H, R15
000005B9 FC33EF                  		TST R14, R15
000005BC 18                   S  		BNE L209
000005BD 2Err                 B  		BRA L212
000005BF                         L208:	; if_else_bb
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",560
000005BF 3E0120                  		MOV.L #00000020H, 04H[R0]
000005C2 38rrrr               W  		BRA L228
000005C5                         L209:	; if_then_bb47
                                 ;     576     {
                                 ;     577         /* Set message mailbox buffer Extended ID, masking off temporary XID flag bit. */      
                                 ;     578         can_block_p->MB[mbox_nr].ID.LONG = (frame_p->id & (~XID_MASK));
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",578
000005C5 A989                    		MOV.L 1CH[R0], R1
000005C7 EC1E                    		MOV.L [R1], R14
000005C9 742EFFFFFF1F            		AND #1FFFFFFFH, R14
000005CF E32E                    		MOV.L R14, [R2]
000005D1                         L210:	; if_then_bb47.split
                                 ;     579         if (can_block_p->CTLR.BIT.IDFM == MIXED_ID_MODE)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",579
000005D1 A882                    		MOV.L 08H[R0], R2
000005D3 5A2E4106                		MOVU.B 0641H[R2], R14
000005D7 681E                    		SHLR #01H, R14
000005D9 643E                    		AND #03H, R14
000005DB 612E                    		CMP #02H, R14
000005DD 21rr                    		BNE L214
000005DF                         L211:	; if_then_bb72
                                 ;     580         {
                                 ;     581             can_block_p->MB[mbox_nr].ID.BIT.IDE = 1;   /* Mixed mode; select to send extended frame. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",581
000005DF AA02                    		MOV.L 20H[R0], R2
000005E1 6C42                    		SHLL #04H, R2
000005E3 A881                    		MOV.L 08H[R0], R1
000005E5 4B21                    		ADD R2, R1
000005E7 EC1E                    		MOV.L [R1], R14
000005E9 79FE                    		BSET #1FH, R14
000005EB E31E                    		MOV.L R14, [R1]
000005ED 2Err                 B  		BRA L214
000005EF                         L212:	; if_else_bb88
                                 ;     582         }
                                 ;     583     }
                                 ;     584     else
                                 ;     585     {
                                 ;     586         /* Set message mailbox buffer Standard ID. Put only the lower 11 bit in the SID. */
                                 ;     587         can_block_p->MB[mbox_nr].ID.BIT.SID = (frame_p->id & SID_MASK);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",587
000005EF A989                    		MOV.L 1CH[R0], R1
000005F1 EC1E                    		MOV.L [R1], R14
000005F3 762EFF07                		AND #07FFH, R14
000005F7 6D2E                    		SHLL #12H, R14
000005F9 EC2F                    		MOV.L [R2], R15
000005FB 742FFFFF03E0            		AND #0E003FFFFH, R15
00000601 57EF                    		OR R14, R15
00000603 E32F                    		MOV.L R15, [R2]
00000605                         L213:	; if_else_bb88.split
                                 ;     588 
                                 ;     589         /* Always set IDE to 0 (unless mixed mode and extended frame as above). */
                                 ;     590         can_block_p->MB[mbox_nr].ID.BIT.IDE = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",590
00000605 AA01                    		MOV.L 20H[R0], R1
00000607 6C41                    		SHLL #04H, R1
00000609 A882                    		MOV.L 08H[R0], R2
0000060B 4B12                    		ADD R1, R2
0000060D EC2E                    		MOV.L [R2], R14
0000060F 7BFE                    		BCLR #1FH, R14
00000611 E32E                    		MOV.L R14, [R2]
00000613                         L214:	; if_break_bb123
                                 ;     591     }
                                 ;     592 
                                 ;     593     /* Set the Data Length Code */
                                 ;     594     can_block_p->MB[mbox_nr].DLC.BIT.DLC = frame_p->dlc;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",594
00000613 AA01                    		MOV.L 20H[R0], R1
00000615 6C41                    		SHLL #04H, R1
00000617 A882                    		MOV.L 08H[R0], R2
00000619 4B12                    		ADD R1, R2
0000061B A989                    		MOV.L 1CH[R0], R1
0000061D B111                    		MOVU.B 04H[R1], R1
0000061F B12B                    		MOVU.B 05H[R2], R3
00000621 7623F000                		AND #0F0H, R3
00000625 64F1                    		AND #0FH, R1
00000627 5713                    		OR R1, R3
00000629 812B                    		MOV.B R3, 05H[R2]
0000062B                         L215:	; if_break_bb123.split
                                 ;     595     
                                 ;     596     /* Frame select: Data frame = 0, Remote = 1 */
                                 ;     597     if (frame_type == REMOTE_FRAME)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",597
0000062B AA01                    		MOV.L 20H[R0], R1
0000062D 6C41                    		SHLL #04H, R1
0000062F A882                    		MOV.L 08H[R0], R2
00000631 4B12                    		ADD R1, R2
00000633 A981                    		MOV.L 18H[R0], R1
00000635 6111                    		CMP #01H, R1
00000637 18                   S  		BNE L217
00000638                         L216:	; if_then_bb145
                                 ;     598     {
                                 ;     599         can_block_p->MB[mbox_nr].ID.BIT.RTR = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",599
00000638 EC2E                    		MOV.L [R2], R14
0000063A 79EE                    		BSET #1EH, R14
0000063C E32E                    		MOV.L R14, [R2]
0000063E 08                   S  		BRA L218
0000063F                         L217:	; if_else_bb160
                                 ;     600     }
                                 ;     601     else
                                 ;     602     { 
                                 ;     603         can_block_p->MB[mbox_nr].ID.BIT.RTR = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",603
0000063F EC2E                    		MOV.L [R2], R14
00000641 7BEE                    		BCLR #1EH, R14
00000643 E32E                    		MOV.L R14, [R2]
00000645                         L218:	; if_break_bb175
                                 ;     604     }
                                 ;     605       
                                 ;     606     /* Copy frame data into mailbox */
                                 ;     607     for (i = 0; ((i < frame_p->dlc) && (i<8)); i++)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",607
00000645 3E0300                  		MOV.L #00000000H, 0CH[R0]
00000648 2Err                 B  		BRA L220
0000064A                         L219:	; bb176
                                 ;     608     {
                                 ;     609         can_block_p->MB[mbox_nr].DATA[i] = frame_p->data[i];
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",609
0000064A AA02                    		MOV.L 20H[R0], R2
0000064C 6C42                    		SHLL #04H, R2
0000064E 4B21                    		ADD R2, R1
00000650 A88A                    		MOV.L 0CH[R0], R2
00000652 4B21                    		ADD R2, R1
00000654 A98B                    		MOV.L 1CH[R0], R3
00000656 4B23                    		ADD R2, R3
00000658 C5310506                		MOV.B 05H[R3], 06H[R1]
0000065C A889                    		MOV.L 0CH[R0], R1
0000065E 6211                    		ADD #01H, R1
00000660 A089                    		MOV.L R1, 0CH[R0]
00000662                         L220:	; bb194
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",607
00000662 A989                    		MOV.L 1CH[R0], R1
00000664 B111                    		MOVU.B 04H[R1], R1
00000666 06850103                		CMP 0CH[R0].L, R1
0000066A 25rr                    		BLEU L223
0000066C                         L221:	; bb202
0000066C A889                    		MOV.L 0CH[R0], R1
0000066E 6171                    		CMP #07H, R1
00000670 24rr                    		BGTU L223
00000672                         L222:	; bb206
00000672 F80601                  		MOV.L #00000001H, [R0]
00000675 08                   S  		BRA L224
00000676                         L223:	; bb207
00000676 F80600                  		MOV.L #00000000H, [R0]
00000679                         L224:	; bb208
00000679 EC01                    		MOV.L [R0], R1
0000067B 6101                    		CMP #00H, R1
0000067D A881                    		MOV.L 08H[R0], R1
0000067F 21rr                    		BNE L219
00000681                         L225:	; bb213
                                 ;     610     }
                                 ;     611     /**********************/
                                 ;     612 
                                 ;     613     #ifndef USE_CAN_POLL
                                 ;     614         /* Interrupt enable the mailbox */
                                 ;     615         can_block_p->MIER |= (bit_set[mbox_nr]);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",615
00000681 FBE2rrrrrrrr            		MOV.L #__$bit_set, R14
00000687 AA02                    		MOV.L 20H[R0], R2
00000689 FE62EE                  		MOV.L [R2,R14], R14
0000068C ED1F8B                  		MOV.L 022CH[R1], R15
0000068F 57EF                    		OR R14, R15
00000691 E71F8B                  		MOV.L R15, 022CH[R1]
00000694                         L226:	; bb213.split
                                 ;     616     #endif
                                 ;     617 
                                 ;     618     R_CAN_Tx(ch_nr, mbox_nr);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",618
00000694 AA02                    		MOV.L 20H[R0], R2
00000696 AA09                    		MOV.L 24H[R0], R1
00000698 39rrrr               W  		BSR _R_CAN_Tx
0000069B                         L227:	; bb213.split7
                                 ;     619     
                                 ;     620     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",620
0000069B E5000401                		MOV.L 10H[R0], 04H[R0]
0000069F                         L228:	; bb226
0000069F A809                    		MOV.L 04H[R0], R1
000006A1 A109                    		MOV.L R1, 14H[R0]
                                 ;     621 } /* end R_CAN_TxSet() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",621
000006A3 6712                    		RTSD #48H
000006A5                         _R_CAN_TxSetXid:
                                 		.STACK	_R_CAN_TxSetXid=44
                                 ;     622 
                                 ;     623 /*******************************************************************************
                                 ;     624 Function Name:  R_CAN_TxSetXid
                                 ;     625 Description:    Set up a CAN mailbox to transmit in extended ID mode.
                                 ;     626                 Uses temporary copy of the can_frame data structure to set the 
                                 ;     627                 MSB of the frame ID field to serve as a flag to indicate extended 
                                 ;     628                 ID mode, then calls the regular R_CAN_TxSet() function passing 
                                 ;     629                 along all the parameters.
                                 ;     630 Arguments:      Channel nr.
                                 ;     631                 Mailbox nr.
                                 ;     632                 frame_p - pointer to a data frame structure.
                                 ;     633                 remote - REMOTE_FRAME to send remote request, DATA_FRAME for 
                                 ;     634                 sending normal dataframe.
                                 ;     635 Return value:   R_CAN_OK                The mailbox was set up for transmission.
                                 ;     636                 R_CAN_SW_BAD_MBX        Bad mailbox number.
                                 ;     637                 R_CAN_BAD_CH_NR         The channel number does not exist.
                                 ;     638                 R_CAN_BAD_ACTION_TYPE   No such action type exists for this 
                                 ;     639                                         function.
                                 ;     640 *******************************************************************************/
                                 ;     641 uint32_t R_CAN_TxSetXid(const uint32_t     ch_nr,
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",641
000006A5 7100D8                  		ADD #0FFFFFFD8H, R0
000006A8 A209                    		MOV.L R1, 24H[R0]
000006AA A202                    		MOV.L R2, 20H[R0]
000006AC A18B                    		MOV.L R3, 1CH[R0]
000006AE A184                    		MOV.L R4, 18H[R0]
                                 ;     642                         const uint32_t     mbox_nr,
                                 ;     643                         can_frame_t*       frame_p,
                                 ;     644                         const uint32_t     frame_type)
                                 ;     645 {
                                 ;     646     can_frame_t temp_frame;
                                 ;     647     uint32_t    api_status;
                                 ;     648     
                                 ;     649     /* Copy the user frame to a temporary frame to which we add the Xid bit,
                                 ;     650     so that 29-bit ID will be used by R_CAN_TxSet(). The original frame is left
                                 ;     651     untouched (in case user later wants to send the same frame with standard ID). */
                                 ;     652     memcpy(&temp_frame, frame_p, sizeof(can_frame_t));
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",652
000006B0 A989                    		MOV.L 1CH[R0], R1
000006B2 E5100304                		MOV.L 0CH[R1], 10H[R0]
000006B6 E5100203                		MOV.L 08H[R1], 0CH[R0]
000006BA E5100102                		MOV.L 04H[R1], 08H[R0]
000006BE E41001                  		MOV.L [R1], 04H[R0]
000006C1                         L230:	; entry.split
                                 ;     653 
                                 ;     654     temp_frame.id |= XID_MASK;    /* Set XID flag bit set in ID field */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",654
000006C1 A809                    		MOV.L 04H[R0], R1
000006C3 7431000000E0            		OR #0E0000000H, R1
000006C9 A009                    		MOV.L R1, 04H[R0]
000006CB                         L231:	; entry.split1
                                 ;     655     api_status = R_CAN_TxSet(ch_nr, mbox_nr, (can_frame_t*)&temp_frame, frame_type);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",655
000006CB A984                    		MOV.L 18H[R0], R4
000006CD AA02                    		MOV.L 20H[R0], R2
000006CF AA09                    		MOV.L 24H[R0], R1
000006D1 710304                  		ADD #04H, R0, R3
000006D4 39rrrr               W  		BSR _R_CAN_TxSet
000006D7 E301                    		MOV.L R1, [R0]
000006D9                         L232:	; entry.split2
                                 ;     656            
                                 ;     657     return api_status; 
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",657
000006D9 EC01                    		MOV.L [R0], R1
000006DB A109                    		MOV.L R1, 14H[R0]
000006DD                         L233:	; entry.split3
                                 ;     658 }/* end R_CAN_TxSetXid() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",658
000006DD 670A                    		RTSD #28H
000006DF                         _R_CAN_Tx:
                                 		.STACK	_R_CAN_Tx=72
                                 ;     659                         
                                 ;     660 
                                 ;     661 /*******************************************************************************
                                 ;     662 Function Name:  R_CAN_Tx
                                 ;     663 Description:    Starts actual message transmission onto the CAN bus.
                                 ;     664 Parameters:     Channel nr.
                                 ;     665                 Mailbox nr.
                                 ;     666 Return value:   R_CAN_OK            The mailbox was set to transmit a previously 
                                 ;     667                                     configured mailbox.
                                 ;     668                 R_CAN_SW_BAD_MBX    Bad mailbox number.
                                 ;     669                 R_CAN_BAD_CH_NR     The channel number does not exist.
                                 ;     670                 R_CAN_SW_SET_TX_TMO Waiting for previous transmission to finish 
                                 ;     671                                     timed out.
                                 ;     672                 R_CAN_SW_SET_RX_TMO Waiting for previous reception to complete 
                                 ;     673                                     timed out.
                                 ;     674 *******************************************************************************/
                                 ;     675 uint32_t R_CAN_Tx(const uint32_t ch_nr, const uint32_t mbox_nr)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",675
000006DF 7100BC                  		ADD #0FFFFFFBCH, R0
000006E2 A109                    		MOV.L R1, 14H[R0]
000006E4 A102                    		MOV.L R2, 10H[R0]
                                 ;     676 {
                                 ;     677     uint32_t api_status = R_CAN_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",677
000006E6 3E0200                  		MOV.L #00000000H, 08H[R0]
000006E9                         L235:	; entry.split
                                 ;     678     volatile struct st_can __evenaccess * can_block_p;
                                 ;     679     
                                 ;     680     CHECK_MBX_NR
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",680
000006E9 A901                    		MOV.L 10H[R0], R1
000006EB 755120                  		CMP #20H, R1
000006EE 23rr                    		BLTU L237
000006F0                         L236:	; if_then_bb
000006F0 F80640                  		MOV.L #00000040H, [R0]
000006F3 38rrrr               W  		BRA L273
000006F6                         L237:	; if_break_bb
                                 ;     681 
                                 ;     682     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",682
000006F6 A909                    		MOV.L 14H[R0], R1
000006F8 6101                    		CMP #00H, R1
000006FA 3Brrrr               W  		BNE L272
000006FD                         L238:	; if_then_bb12
                                 ;     683     {
                                 ;     684         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",684
000006FD F90E01000209            		MOV.L #00090200H, 04H[R0]
00000703                         L239:	; if_then_bb12.split
                                 ;     685     }
                                 ;     686     else
                                 ;     687     {
                                 ;     688         return R_CAN_BAD_CH_NR;        /* Channel does not exist for this MCU. */
                                 ;     689     }
                                 ;     690 
                                 ;     691     /* Wait for any previous transmission to complete. */
                                 ;     692     api_status = R_CAN_WaitTxRx(ch_nr, mbox_nr);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",692
00000703 A901                    		MOV.L 10H[R0], R1
00000705 E500050D                		MOV.L 14H[R0], 34H[R0]
00000709 A301                    		MOV.L R1, 30H[R0]
0000070B                         L240:	; if_then_bb12.split17
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1157
0000070B 3E0A00                  		MOV.L #00000000H, 28H[R0]
0000070E                         L241:	; if_then_bb12.split18
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1158
0000070E F90A090020              		MOV.L #00002000H, 24H[R0]
00000713                         L242:	; if_then_bb12.split19
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1161
00000713 AB01                    		MOV.L 30H[R0], R1
00000715 755120                  		CMP #20H, R1
00000718 23rr                    		BLTU L244
0000071A                         L243:	; if_then_bb.i
0000071A 3E0740                  		MOV.L #00000040H, 1CH[R0]
0000071D 38rrrr               W  		BRA L264
00000720                         L244:	; if_break_bb.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1162
00000720 AB09                    		MOV.L 34H[R0], R1
00000722 6101                    		CMP #00H, R1
00000724 21rr                    		BNE L247
00000726                         L245:	; if_then_bb13.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1164
00000726 F90E08000209            		MOV.L #00090200H, 20H[R0]
0000072C                         L246:	; if_then_bb13.i.split
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1172
0000072C AA01                    		MOV.L 20H[R0], R1
0000072E 0689010C                		ADD 30H[R0].L, R1
00000732 5A1E2006                		MOVU.B 0620H[R1], R14
00000736 687E                    		SHLR #07H, R14
00000738 610E                    		CMP #00H, R14
0000073A 18                   S  		BNE L248
0000073B 2Err                 B  		BRA L255
0000073D                         L247:	; if_else_bb.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1168
0000073D 3E0720                  		MOV.L #00000020H, 1CH[R0]
00000740 2Err                 B  		BRA L264
00000742                         L248:	; bb34.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1174
00000742 AA01                    		MOV.L 20H[R0], R1
00000744 0689010C                		ADD 30H[R0].L, R1
00000748 F6102006                		BTST #00H, 0620H[R1].B
0000074C 21rr                    		BNE L251
0000074E                         L249:	; bb51.i
0000074E AA09                    		MOV.L 24H[R0], R1
00000750 6011                    		SUB #01H, R1
00000752 A209                    		MOV.L R1, 24H[R0]
00000754 6101                    		CMP #00H, R1
00000756 10                   S  		BEQ L251
00000757                         L250:	; bb57.i
00000757 3E0601                  		MOV.L #00000001H, 18H[R0]
0000075A 08                   S  		BRA L252
0000075B                         L251:	; bb58.i
0000075B 3E0600                  		MOV.L #00000000H, 18H[R0]
0000075E                         L252:	; bb59.i
0000075E A981                    		MOV.L 18H[R0], R1
00000760 6101                    		CMP #00H, R1
00000762 21rr                    		BNE L248
00000764                         L253:	; bb64.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1178
00000764 AA09                    		MOV.L 24H[R0], R1
00000766 6101                    		CMP #00H, R1
00000768 21rr                    		BNE L263
0000076A                         L254:	; if_then_bb69.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1180
0000076A F90A0A0020              		MOV.L #00002000H, 28H[R0]
0000076F 2Err                 B  		BRA L263
00000771                         L255:	; if_else_bb71.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1184
00000771 AA01                    		MOV.L 20H[R0], R1
00000773 0689010C                		ADD 30H[R0].L, R1
00000777 F6162006                		BTST #06H, 0620H[R1].B
0000077B 20rr                    		BEQ L263
0000077D                         L256:	; bb91.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1186
0000077D AA01                    		MOV.L 20H[R0], R1
0000077F 0689010C                		ADD 30H[R0].L, R1
00000783 5A1E2006                		MOVU.B 0620H[R1], R14
00000787 681E                    		SHLR #01H, R14
00000789 641E                    		AND #01H, R14
0000078B 611E                    		CMP #01H, R14
0000078D 21rr                    		BNE L259
0000078F                         L257:	; bb108.i
0000078F AA09                    		MOV.L 24H[R0], R1
00000791 6011                    		SUB #01H, R1
00000793 A209                    		MOV.L R1, 24H[R0]
00000795 6101                    		CMP #00H, R1
00000797 10                   S  		BEQ L259
00000798                         L258:	; bb114.i
00000798 3E0601                  		MOV.L #00000001H, 18H[R0]
0000079B 08                   S  		BRA L260
0000079C                         L259:	; bb115.i
0000079C 3E0600                  		MOV.L #00000000H, 18H[R0]
0000079F                         L260:	; bb116.i
0000079F A981                    		MOV.L 18H[R0], R1
000007A1 6101                    		CMP #00H, R1
000007A3 21rr                    		BNE L256
000007A5                         L261:	; bb121.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1190
000007A5 AA09                    		MOV.L 24H[R0], R1
000007A7 6101                    		CMP #00H, R1
000007A9 18                   S  		BNE L263
000007AA                         L262:	; if_then_bb126.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1192
000007AA F90A0A0040              		MOV.L #00004000H, 28H[R0]
000007AF                         L263:	; if_break_bb129.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1195
000007AF E5000A07                		MOV.L 28H[R0], 1CH[R0]
000007B3                         L264:	; _$R_CAN_WaitTxRx.exit
000007B3 A989                    		MOV.L 1CH[R0], R1
000007B5 A289                    		MOV.L R1, 2CH[R0]
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1196
000007B7 A081                    		MOV.L R1, 08H[R0]
000007B9                         L265:	; _$R_CAN_WaitTxRx.exit.split
                                 ;     693 
                                 ;     694     /* Clear SentData flag since we are about to send anew. */
                                 ;     695     CanClearSentData(ch_nr, mbox_nr);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",695
000007B9 A901                    		MOV.L 10H[R0], R1
000007BB E5000510                		MOV.L 14H[R0], 40H[R0]
000007BF A389                    		MOV.L R1, 3CH[R0]
000007C1                         L266:	; _$R_CAN_WaitTxRx.exit.split20
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",806
000007C1 AC01                    		MOV.L 40H[R0], R1
000007C3 6101                    		CMP #00H, R1
000007C5 21rr                    		BNE L270
000007C7                         L267:	; if_then_bb.i16
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",808
000007C7 F90E0E000209            		MOV.L #00090200H, 38H[R0]
000007CD                         L268:	; if_then_bb.i16.split
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",819
000007CD AB81                    		MOV.L 38H[R0], R1
000007CF 0689010F                		ADD 3CH[R0].L, R1
000007D3 FA14200600              		MOV.B #00H, 0620H[R1]
000007D8                         L269:	; if_then_bb.i16.split21
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",820
000007D8 AB81                    		MOV.L 38H[R0], R1
000007DA 0689010F                		ADD 3CH[R0].L, R1
000007DE FA14200600              		MOV.B #00H, 0620H[R1]
000007E3                         L270:	; _$CanClearSentData.exit
                                 ;     696     
                                 ;     697     /* Set TrmReq bit to "1" */
                                 ;     698 	can_block_p->MCTL[mbox_nr].BIT.TX.TRMREQ = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",698
000007E3 A809                    		MOV.L 04H[R0], R1
000007E5 06890104                		ADD 10H[R0].L, R1
000007E9 F2172006                		BSET #07H, 0620H[R1].B
000007ED                         L271:	; _$CanClearSentData.exit.split
                                 ;     699     
                                 ;     700     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",700
000007ED E10002                  		MOV.L 08H[R0], [R0]
000007F0 08                   S  		BRA L273
000007F1                         L272:	; if_else_bb
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",688
000007F1 F80620                  		MOV.L #00000020H, [R0]
000007F4                         L273:	; bb32
000007F4 EC01                    		MOV.L [R0], R1
000007F6 A089                    		MOV.L R1, 0CH[R0]
                                 ;     701 }/* end R_CAN_Tx() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",701
000007F8 6711                    		RTSD #44H
000007FA                         _R_CAN_TxCheck:
                                 		.STACK	_R_CAN_TxCheck=40
                                 ;     702 
                                 ;     703 /*****************************************************************************
                                 ;     704 Name:           R_CAN_TxCheck
                                 ;     705 Parameters:     Channel nr.
                                 ;     706                 Mailbox nr.
                                 ;     707 Description:    Use to check a mailbox for a successful data frame transmission.
                                 ;     708                 Primarily used when polling to check that message was sent, so 
                                 ;     709                 that the next in series of messages can be sent. To do this when 
                                 ;     710                 using CAN interrupts, this function can be called to check which 
                                 ;     711                 mailbox caused the interrupt.
                                 ;     712 Return value:   R_CAN_OK            Transmission was completed successfully.
                                 ;     713                 R_CAN_SW_BAD_MBX    Bad mailbox number.
                                 ;     714                 R_CAN_BAD_CH_NR     The channel number does not exist.
                                 ;     715                 R_CAN_MSGLOST        Message was overwritten or lost.
                                 ;     716                 R_CAN_NO_SENTDATA    No message was sent.
                                 ;     717 *****************************************************************************/
                                 ;     718 uint32_t R_CAN_TxCheck(const uint32_t ch_nr, const uint32_t mbox_nr)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",718
000007FA 7100DC                  		ADD #0FFFFFFDCH, R0
000007FD A109                    		MOV.L R1, 14H[R0]
000007FF A102                    		MOV.L R2, 10H[R0]
                                 ;     719 {
                                 ;     720     uint32_t api_status = R_CAN_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",720
00000801 3E0200                  		MOV.L #00000000H, 08H[R0]
00000804                         L275:	; entry.split
                                 ;     721     volatile struct st_can __evenaccess * can_block_p;
                                 ;     722     
                                 ;     723     CHECK_MBX_NR
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",723
00000804 A901                    		MOV.L 10H[R0], R1
00000806 755120                  		CMP #20H, R1
00000809 23rr                    		BLTU L277
0000080B                         L276:	; if_then_bb
0000080B F80640                  		MOV.L #00000040H, [R0]
0000080E 2Err                 B  		BRA L288
00000810                         L277:	; if_break_bb
                                 ;     724     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",724
00000810 A909                    		MOV.L 14H[R0], R1
00000812 6101                    		CMP #00H, R1
00000814 21rr                    		BNE L280
00000816                         L278:	; if_then_bb12
                                 ;     725     {
                                 ;     726         can_block_p = (struct st_can __evenaccess *) 0x90200;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",726
00000816 F90E01000209            		MOV.L #00090200H, 04H[R0]
0000081C                         L279:	; if_then_bb12.split
                                 ;     727     }
                                 ;     728     else
                                 ;     729     {
                                 ;     730         return R_CAN_BAD_CH_NR;
                                 ;     731     }
                                 ;     732 
                                 ;     733     if (can_block_p->MCTL[mbox_nr].BIT.TX.SENTDATA == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",733
0000081C A809                    		MOV.L 04H[R0], R1
0000081E 06890104                		ADD 10H[R0].L, R1
00000822 F6102006                		BTST #00H, 0620H[R1].B
00000826 10                   S  		BEQ L281
00000827 2Err                 B  		BRA L282
00000829                         L280:	; if_else_bb
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",730
00000829 F80620                  		MOV.L #00000020H, [R0]
0000082C 2Err                 B  		BRA L288
0000082E                         L281:	; if_then_bb32
                                 ;     734     {
                                 ;     735         api_status = R_CAN_NO_SENTDATA;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",735
0000082E 3E0208                  		MOV.L #00000008H, 08H[R0]
00000831 2Err                 B  		BRA L287
00000833                         L282:	; if_else_bb33
                                 ;     736     }
                                 ;     737     else
                                 ;     738     {
                                 ;     739         CanClearSentData(ch_nr, mbox_nr);        /* Clear SentData flag. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",739
00000833 A901                    		MOV.L 10H[R0], R1
00000835 E5000508                		MOV.L 14H[R0], 20H[R0]
00000839 A189                    		MOV.L R1, 1CH[R0]
0000083B                         L283:	; if_else_bb33.split
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",806
0000083B AA01                    		MOV.L 20H[R0], R1
0000083D 6101                    		CMP #00H, R1
0000083F 21rr                    		BNE L287
00000841                         L284:	; if_then_bb.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",808
00000841 F90E06000209            		MOV.L #00090200H, 18H[R0]
00000847                         L285:	; if_then_bb.i.split
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",819
00000847 A981                    		MOV.L 18H[R0], R1
00000849 06890107                		ADD 1CH[R0].L, R1
0000084D FA14200600              		MOV.B #00H, 0620H[R1]
00000852                         L286:	; if_then_bb.i.split1
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",820
00000852 A981                    		MOV.L 18H[R0], R1
00000854 06890107                		ADD 1CH[R0].L, R1
00000858 FA14200600              		MOV.B #00H, 0620H[R1]
0000085D                         L287:	; if_break_bb36
                                 ;     740     }
                                 ;     741 
                                 ;     742     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",742
0000085D E10002                  		MOV.L 08H[R0], [R0]
00000860                         L288:	; bb39
00000860 EC01                    		MOV.L [R0], R1
00000862 A089                    		MOV.L R1, 0CH[R0]
                                 ;     743 }/* end R_CAN_TxCheck() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",743
00000864 6709                    		RTSD #24H
00000866                         _R_CAN_TxStopMsg:
                                 		.STACK	_R_CAN_TxStopMsg=36
                                 ;     744 
                                 ;     745 /*****************************************************************************
                                 ;     746 Name:            R_CAN_TxStopMsg
                                 ;     747 Parameters:        Channel nr.
                                 ;     748                 Mailbox nr.
                                 ;     749 Description:      Stop a mailbox that has been asked to transmit a frame. If the 
                                 ;     750                 message was not stopped, R_CAN_SW_ABORT_ERR is returned. Note 
                                 ;     751                 that the cause of this could be that the message was already sent. 
                                 ;     752 Return value:     R_CAN_OK            Action completed successfully.
                                 ;     753                 R_CAN_SW_BAD_MBX    Bad mailbox number.
                                 ;     754                 R_CAN_BAD_CH_NR     The channel number does not exist.
                                 ;     755                 R_CAN_SW_ABORT_ERR    Waiting for an abort timed out.
                                 ;     756 *****************************************************************************/
                                 ;     757 uint32_t R_CAN_TxStopMsg(const uint32_t ch_nr, const uint32_t mbox_nr)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",757
00000866 7100E0                  		ADD #0FFFFFFE0H, R0
00000869 A189                    		MOV.L R1, 1CH[R0]
0000086B A182                    		MOV.L R2, 18H[R0]
                                 ;     758 {
                                 ;     759     uint32_t api_status = R_CAN_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",759
0000086D 3E0400                  		MOV.L #00000000H, 10H[R0]
00000870                         L290:	; entry.split
                                 ;     760     uint32_t can_tmo_cnt = MAX_CAN_SW_DELAY;   
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",760
00000870 F90A030020              		MOV.L #00002000H, 0CH[R0]
00000875                         L291:	; entry.split1
                                 ;     761     volatile struct st_can __evenaccess * can_block_p;
                                 ;     762     
                                 ;     763     CHECK_MBX_NR
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",763
00000875 A981                    		MOV.L 18H[R0], R1
00000877 755120                  		CMP #20H, R1
0000087A 23rr                    		BLTU L293
0000087C                         L292:	; if_then_bb
0000087C 3E0140                  		MOV.L #00000040H, 04H[R0]
0000087F 2Err                 B  		BRA L307
00000881                         L293:	; if_break_bb
                                 ;     764     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",764
00000881 A989                    		MOV.L 1CH[R0], R1
00000883 6101                    		CMP #00H, R1
00000885 21rr                    		BNE L297
00000887                         L294:	; if_then_bb13
                                 ;     765     {
                                 ;     766         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",766
00000887 F90E02000209            		MOV.L #00090200H, 08H[R0]
0000088D                         L295:	; if_then_bb13.split
                                 ;     767     }
                                 ;     768     else
                                 ;     769     {
                                 ;     770         return R_CAN_BAD_CH_NR;        /* Channel does not exist for this MCU. */
                                 ;     771     }
                                 ;     772     
                                 ;     773     /* Clear message mailbox control register. Setting TRMREQ to 0 should abort. Do a byte-write to avoid read-modify-write with HW writing another bit inbet
                                 ;     774      * Do it twice since "Bits SENTDATA and TRMREQ cannot be set to 0 simultaneously." */
                                 ;     775     can_block_p->MCTL[mbox_nr].BYTE = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",775
0000088D A881                    		MOV.L 08H[R0], R1
0000088F 06890106                		ADD 18H[R0].L, R1
00000893 FA14200600              		MOV.B #00H, 0620H[R1]
00000898                         L296:	; if_then_bb13.split2
                                 ;     776     can_block_p->MCTL[mbox_nr].BYTE = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",776
00000898 A881                    		MOV.L 08H[R0], R1
0000089A 06890106                		ADD 18H[R0].L, R1
0000089E FA14200600              		MOV.B #00H, 0620H[R1]
000008A3 08                   S  		BRA L298
000008A4                         L297:	; if_else_bb
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",770
000008A4 3E0120                  		MOV.L #00000020H, 04H[R0]
000008A7 2Err                 B  		BRA L307
000008A9                         L298:	; bb29
                                 ;     777 
                                 ;     778     /* Wait for abort. */
                                 ;     779     while ((can_block_p->MCTL[mbox_nr].BIT.TX.TRMABT) && DEC_CHK_CAN_SW_TMR)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",779
000008A9 A881                    		MOV.L 08H[R0], R1
000008AB 06890106                		ADD 18H[R0].L, R1
000008AF F6122006                		BTST #02H, 0620H[R1].B
000008B3 20rr                    		BEQ L301
000008B5                         L299:	; bb46
000008B5 A889                    		MOV.L 0CH[R0], R1
000008B7 6011                    		SUB #01H, R1
000008B9 A089                    		MOV.L R1, 0CH[R0]
000008BB 6101                    		CMP #00H, R1
000008BD 10                   S  		BEQ L301
000008BE                         L300:	; bb52
000008BE F80601                  		MOV.L #00000001H, [R0]
000008C1 08                   S  		BRA L302
000008C2                         L301:	; bb53
000008C2 F80600                  		MOV.L #00000000H, [R0]
000008C5                         L302:	; bb54
000008C5 EC01                    		MOV.L [R0], R1
000008C7 6101                    		CMP #00H, R1
000008C9 21rr                    		BNE L298
000008CB                         L303:	; bb59
                                 ;     780     {
                                 ;     781     }
                                 ;     782 
                                 ;     783     if (can_tmo_cnt == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",783
000008CB A889                    		MOV.L 0CH[R0], R1
000008CD 6101                    		CMP #00H, R1
000008CF 18                   S  		BNE L305
000008D0                         L304:	; if_then_bb64
                                 ;     784     {
                                 ;     785         api_status = R_CAN_SW_ABORT_ERR;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",785
000008D0 F90E04008000            		MOV.L #00008000H, 10H[R0]
000008D6                         L305:	; if_break_bb65
                                 ;     786     }
                                 ;     787     
                                 ;     788     /* Clear abort flag. Do a byte-write to avoid read-modify-write with HW writing another bit inbetween. */
                                 ;     789     can_block_p->MCTL[mbox_nr].BYTE = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",789
000008D6 A881                    		MOV.L 08H[R0], R1
000008D8 06890106                		ADD 18H[R0].L, R1
000008DC FA14200600              		MOV.B #00H, 0620H[R1]
000008E1                         L306:	; if_break_bb65.split
                                 ;     790     
                                 ;     791     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",791
000008E1 E5000401                		MOV.L 10H[R0], 04H[R0]
000008E5                         L307:	; bb74
000008E5 A809                    		MOV.L 04H[R0], R1
000008E7 A109                    		MOV.L R1, 14H[R0]
                                 ;     792 }/* end R_CAN_TxStopMsg() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",792
000008E9 6708                    		RTSD #20H
000008EB                         _R_CAN_RxSet:
                                 		.STACK	_R_CAN_RxSet=68
                                 ;     793 
                                 ;     794 /*****************************************************************************
                                 ;     795 Name:            CanClearSentData
                                 ;     796 Parameters:        Channel nr.
                                 ;     797                 Mailbox nr.
                                 ;     798 Description:      Use in poll mode for checking successful data frame transmission.
                                 ;     799 Return value:     CAN API code (CAN_R_CAN_OK if mailbox has sent.)
                                 ;     800 *****************************************************************************/
                                 ;     801 #pragma inline(CanClearSentData)
                                 ;     802 static void CanClearSentData(const uint32_t ch_nr, const uint32_t mbox_nr)
                                 ;     803 { 
                                 ;     804     volatile struct st_can __evenaccess * can_block_p;
                                 ;     805     
                                 ;     806     if (ch_nr == 0)
                                 ;     807     {
                                 ;     808         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 ;     809     }
                                 ;     810     else
                                 ;     811     {
                                 ;     812         return;        /* Channel does not exist for this MCU. */
                                 ;     813     }
                                 ;     814 
                                 ;     815     /* Clear SENTDATA.
                                 ;     816      * Do a byte-write to avoid read-modify-write with HW writing another bit inbetween. See HW manual footnote.
                                 ;     817      * TRMREQ must be set to 0 (or will send again).
                                 ;     818      * Do it twice since "Bits SENTDATA and TRMREQ cannot be set to 0 simultaneously." */
                                 ;     819      can_block_p->MCTL[mbox_nr].BYTE = 0;
                                 ;     820      can_block_p->MCTL[mbox_nr].BYTE = 0;
                                 ;     821     
                                 ;     822 }/* end CanClearSentData() */   
                                 ;     823 
                                 ;     824 /*******************************************************************************
                                 ;     825 Function Name:  R_CAN_RxSet
                                 ;     826 Description:    Set up a mailbox to receive. The API sets up a given mailbox to 
                                 ;     827                 receive dataframes with the given CAN ID. Incoming data frames 
                                 ;     828                 with the same ID will be stored in the mailbox. 
                                 ;     829 Parameters:     ch_nr
                                 ;     830                 Mailbox nr.
                                 ;     831                 Frame ID value
                                 ;     832                 remote - REMOTE_FRAME to listen for remote requests, DATA_FRAME
                                 ;     833                  for receiving normal dataframes.
                                 ;     834 Return value:     R_CAN_OK            Action completed successfully.
                                 ;     835                 R_CAN_SW_BAD_MBX    Bad mailbox number.
                                 ;     836                 R_CAN_BAD_CH_NR     The channel number does not exist.
                                 ;     837                 R_CAN_SW_SET_TX_TMO    Waiting for previous transmission to finish 
                                 ;     838                                     timed out.
                                 ;     839                 R_CAN_SW_SET_RX_TMO    Waiting for previous reception to complete 
                                 ;     840                                     timed out.
                                 ;     841 *******************************************************************************/
                                 ;     842 uint32_t R_CAN_RxSet(const uint32_t     ch_nr, 
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",842
000008EB 7100C0                  		ADD #0FFFFFFC0H, R0
000008EE A189                    		MOV.L R1, 1CH[R0]
000008F0 A182                    		MOV.L R2, 18H[R0]
000008F2 A10B                    		MOV.L R3, 14H[R0]
000008F4 A104                    		MOV.L R4, 10H[R0]
                                 ;     843                      const uint32_t     mbox_nr, 
                                 ;     844                      const uint32_t     id,
                                 ;     845                      const uint32_t     frame_type)
                                 ;     846 {
                                 ;     847     uint32_t api_status = R_CAN_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",847
000008F6 3E0200                  		MOV.L #00000000H, 08H[R0]
000008F9                         L309:	; entry.split
                                 ;     848     volatile struct st_can __evenaccess * can_block_p;
                                 ;     849     
                                 ;     850     CHECK_MBX_NR
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",850
000008F9 A981                    		MOV.L 18H[R0], R1
000008FB 755120                  		CMP #20H, R1
000008FE 23rr                    		BLTU L311
00000900                         L310:	; if_then_bb
00000900 F80640                  		MOV.L #00000040H, [R0]
00000903 38rrrr               W  		BRA L356
00000906                         L311:	; if_break_bb
                                 ;     851     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",851
00000906 A989                    		MOV.L 1CH[R0], R1
00000908 6101                    		CMP #00H, R1
0000090A 3Brrrr               W  		BNE L342
0000090D                         L312:	; if_then_bb14
                                 ;     852     {
                                 ;     853         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",853
0000090D F90E01000209            		MOV.L #00090200H, 04H[R0]
00000913                         L313:	; if_then_bb14.split
                                 ;     854     }
                                 ;     855     else
                                 ;     856     {
                                 ;     857         return R_CAN_BAD_CH_NR;        /* Channel does not exist for this MCU. */
                                 ;     858     }
                                 ;     859 
                                 ;     860     /* Wait for any previous transmission/reception to complete. */
                                 ;     861     api_status = R_CAN_WaitTxRx(ch_nr, mbox_nr);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",861
00000913 A981                    		MOV.L 18H[R0], R1
00000915 E500070F                		MOV.L 1CH[R0], 3CH[R0]
00000919 A381                    		MOV.L R1, 38H[R0]
0000091B                         L314:	; if_then_bb14.split1
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1157
0000091B 3E0C00                  		MOV.L #00000000H, 30H[R0]
0000091E                         L315:	; if_then_bb14.split2
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1158
0000091E F90A0B0020              		MOV.L #00002000H, 2CH[R0]
00000923                         L316:	; if_then_bb14.split3
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1161
00000923 AB81                    		MOV.L 38H[R0], R1
00000925 755120                  		CMP #20H, R1
00000928 23rr                    		BLTU L318
0000092A                         L317:	; if_then_bb.i
0000092A 3E0940                  		MOV.L #00000040H, 24H[R0]
0000092D 38rrrr               W  		BRA L338
00000930                         L318:	; if_break_bb.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1162
00000930 AB89                    		MOV.L 3CH[R0], R1
00000932 6101                    		CMP #00H, R1
00000934 21rr                    		BNE L321
00000936                         L319:	; if_then_bb13.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1164
00000936 F90E0A000209            		MOV.L #00090200H, 28H[R0]
0000093C                         L320:	; if_then_bb13.i.split
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1172
0000093C AA81                    		MOV.L 28H[R0], R1
0000093E 0689010E                		ADD 38H[R0].L, R1
00000942 5A1E2006                		MOVU.B 0620H[R1], R14
00000946 687E                    		SHLR #07H, R14
00000948 610E                    		CMP #00H, R14
0000094A 18                   S  		BNE L322
0000094B 2Err                 B  		BRA L329
0000094D                         L321:	; if_else_bb.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1168
0000094D 3E0920                  		MOV.L #00000020H, 24H[R0]
00000950 2Err                 B  		BRA L338
00000952                         L322:	; bb34.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1174
00000952 AA81                    		MOV.L 28H[R0], R1
00000954 0689010E                		ADD 38H[R0].L, R1
00000958 F6102006                		BTST #00H, 0620H[R1].B
0000095C 21rr                    		BNE L325
0000095E                         L323:	; bb51.i
0000095E AA89                    		MOV.L 2CH[R0], R1
00000960 6011                    		SUB #01H, R1
00000962 A289                    		MOV.L R1, 2CH[R0]
00000964 6101                    		CMP #00H, R1
00000966 10                   S  		BEQ L325
00000967                         L324:	; bb57.i
00000967 3E0801                  		MOV.L #00000001H, 20H[R0]
0000096A 08                   S  		BRA L326
0000096B                         L325:	; bb58.i
0000096B 3E0800                  		MOV.L #00000000H, 20H[R0]
0000096E                         L326:	; bb59.i
0000096E AA01                    		MOV.L 20H[R0], R1
00000970 6101                    		CMP #00H, R1
00000972 21rr                    		BNE L322
00000974                         L327:	; bb64.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1178
00000974 AA89                    		MOV.L 2CH[R0], R1
00000976 6101                    		CMP #00H, R1
00000978 21rr                    		BNE L337
0000097A                         L328:	; if_then_bb69.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1180
0000097A F90A0C0020              		MOV.L #00002000H, 30H[R0]
0000097F 2Err                 B  		BRA L337
00000981                         L329:	; if_else_bb71.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1184
00000981 AA81                    		MOV.L 28H[R0], R1
00000983 0689010E                		ADD 38H[R0].L, R1
00000987 F6162006                		BTST #06H, 0620H[R1].B
0000098B 20rr                    		BEQ L337
0000098D                         L330:	; bb91.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1186
0000098D AA81                    		MOV.L 28H[R0], R1
0000098F 0689010E                		ADD 38H[R0].L, R1
00000993 5A1E2006                		MOVU.B 0620H[R1], R14
00000997 681E                    		SHLR #01H, R14
00000999 641E                    		AND #01H, R14
0000099B 611E                    		CMP #01H, R14
0000099D 21rr                    		BNE L333
0000099F                         L331:	; bb108.i
0000099F AA89                    		MOV.L 2CH[R0], R1
000009A1 6011                    		SUB #01H, R1
000009A3 A289                    		MOV.L R1, 2CH[R0]
000009A5 6101                    		CMP #00H, R1
000009A7 10                   S  		BEQ L333
000009A8                         L332:	; bb114.i
000009A8 3E0801                  		MOV.L #00000001H, 20H[R0]
000009AB 08                   S  		BRA L334
000009AC                         L333:	; bb115.i
000009AC 3E0800                  		MOV.L #00000000H, 20H[R0]
000009AF                         L334:	; bb116.i
000009AF AA01                    		MOV.L 20H[R0], R1
000009B1 6101                    		CMP #00H, R1
000009B3 21rr                    		BNE L330
000009B5                         L335:	; bb121.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1190
000009B5 AA89                    		MOV.L 2CH[R0], R1
000009B7 6101                    		CMP #00H, R1
000009B9 18                   S  		BNE L337
000009BA                         L336:	; if_then_bb126.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1192
000009BA F90A0C0040              		MOV.L #00004000H, 30H[R0]
000009BF                         L337:	; if_break_bb129.i
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1195
000009BF E5000C09                		MOV.L 30H[R0], 24H[R0]
000009C3                         L338:	; _$R_CAN_WaitTxRx.exit
000009C3 AA09                    		MOV.L 24H[R0], R1
000009C5 A309                    		MOV.L R1, 34H[R0]
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1196
000009C7 A081                    		MOV.L R1, 08H[R0]
000009C9                         L339:	; _$R_CAN_WaitTxRx.exit.split
                                 ;     862 
                                 ;     863     /* Interrupt disable the mailbox. */
                                 ;     864     can_block_p->MIER &= ~(bit_set[mbox_nr]);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",864
000009C9 FBE2rrrrrrrr            		MOV.L #__$bit_set, R14
000009CF A981                    		MOV.L 18H[R0], R1
000009D1 FE61EE                  		MOV.L [R1,R14], R14
000009D4 7E0E                    		NOT R14
000009D6 A809                    		MOV.L 04H[R0], R1
000009D8 ED1F8B                  		MOV.L 022CH[R1], R15
000009DB 53EF                    		AND R14, R15
000009DD E71F8B                  		MOV.L R15, 022CH[R1]
000009E0                         L340:	; _$R_CAN_WaitTxRx.exit.split4
                                 ;     865 
                                 ;     866     /* Clear message mailbox control register. */
                                 ;     867     can_block_p->MCTL[mbox_nr].BYTE = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",867
000009E0 A809                    		MOV.L 04H[R0], R1
000009E2 06890106                		ADD 18H[R0].L, R1
000009E6 FA14200600              		MOV.B #00H, 0620H[R1]
000009EB                         L341:	; _$R_CAN_WaitTxRx.exit.split5
                                 ;     868 
                                 ;     869     /*** Set Mailbox ID based on ID mode ***/
                                 ;     870     /* Check for XID flag bit set in ID argument */
                                 ;     871     if (id & XID_MASK)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",871
000009EB A981                    		MOV.L 18H[R0], R1
000009ED 6C41                    		SHLL #04H, R1
000009EF A80A                    		MOV.L 04H[R0], R2
000009F1 4B12                    		ADD R1, R2
000009F3 FBE2000000E0            		MOV.L #0E0000000H, R14
000009F9 06A10C0E05              		TST 14H[R0].L, R14
000009FE 18                   S  		BNE L343
000009FF 2Err                 B  		BRA L344
00000A01                         L342:	; if_else_bb
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",857
00000A01 F80620                  		MOV.L #00000020H, [R0]
00000A04 38rrrr               W  		BRA L356
00000A07                         L343:	; if_then_bb38
                                 ;     872     {
                                 ;     873         /* Set message mailbox buffer Extended ID, masking off temporary XID flag bit. */
                                 ;     874         can_block_p->MB[mbox_nr].ID.LONG = (id & (~XID_MASK));
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",874
00000A07 A909                    		MOV.L 14H[R0], R1
00000A09 7421FFFFFF1F            		AND #1FFFFFFFH, R1
00000A0F E321                    		MOV.L R1, [R2]
00000A11 2Err                 B  		BRA L345
00000A13                         L344:	; if_else_bb48
                                 ;     875     }     
                                 ;     876     else    
                                 ;     877     {
                                 ;     878         /* Set message mailbox buffer Standard ID */ 
                                 ;     879         can_block_p->MB[mbox_nr].ID.BIT.SID = (id & SID_MASK); /* Now put the lower 11 bit in the SID. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",879
00000A13 A909                    		MOV.L 14H[R0], R1
00000A15 EC2E                    		MOV.L [R2], R14
00000A17 742EFFFF03E0            		AND #0E003FFFFH, R14
00000A1D 7621FF07                		AND #07FFH, R1
00000A21 6D21                    		SHLL #12H, R1
00000A23 571E                    		OR R1, R14
00000A25 E32E                    		MOV.L R14, [R2]
00000A27                         L345:	; if_break_bb67
                                 ;     880     }
                                 ;     881 
                                 ;     882     /* Set IDE bit depending on if want to receive SID or XID frame. Only for mixed mode. */
                                 ;     883     if (can_block_p->CTLR.BIT.IDFM == MIXED_ID_MODE)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",883
00000A27 A809                    		MOV.L 04H[R0], R1
00000A29 5A1E4106                		MOVU.B 0641H[R1], R14
00000A2D 681E                    		SHLR #01H, R14
00000A2F 643E                    		AND #03H, R14
00000A31 612E                    		CMP #02H, R14
00000A33 21rr                    		BNE L349
00000A35                         L346:	; if_then_bb81
                                 ;     884     {
                                 ;     885         if (id & XID_MASK)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",885
00000A35 A981                    		MOV.L 18H[R0], R1
00000A37 6C41                    		SHLL #04H, R1
00000A39 A80A                    		MOV.L 04H[R0], R2
00000A3B 4B12                    		ADD R1, R2
00000A3D FBE2000000E0            		MOV.L #0E0000000H, R14
00000A43 06A10C0E05              		TST 14H[R0].L, R14
00000A48 10                   S  		BEQ L348
00000A49                         L347:	; if_then_bb87
                                 ;     886         {
                                 ;     887             can_block_p->MB[mbox_nr].ID.BIT.IDE = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",887
00000A49 EC2E                    		MOV.L [R2], R14
00000A4B 79FE                    		BSET #1FH, R14
00000A4D E32E                    		MOV.L R14, [R2]
00000A4F 2Err                 B  		BRA L350
00000A51                         L348:	; if_else_bb102
                                 ;     888         }
                                 ;     889         else
                                 ;     890         {
                                 ;     891             can_block_p->MB[mbox_nr].ID.BIT.IDE = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",891
00000A51 EC2E                    		MOV.L [R2], R14
00000A53 7BFE                    		BCLR #1FH, R14
00000A55 E32E                    		MOV.L R14, [R2]
00000A57 2Err                 B  		BRA L350
00000A59                         L349:	; if_else_bb118
                                 ;     892         }
                                 ;     893     }
                                 ;     894     else
                                 ;     895     {
                                 ;     896         /* When not MIXED mode, IDE should be written with 0. */
                                 ;     897         can_block_p->MB[mbox_nr].ID.BIT.IDE = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",897
00000A59 A981                    		MOV.L 18H[R0], R1
00000A5B 6C41                    		SHLL #04H, R1
00000A5D A80A                    		MOV.L 04H[R0], R2
00000A5F 4B12                    		ADD R1, R2
00000A61 EC2E                    		MOV.L [R2], R14
00000A63 7BFE                    		BCLR #1FH, R14
00000A65 E32E                    		MOV.L R14, [R2]
00000A67                         L350:	; if_break_bb133
                                 ;     898     }
                                 ;     899     
                                 ;     900     /* Dataframe = 0, Remote frame = 1    */
                                 ;     901     if (frame_type == REMOTE_FRAME)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",901
00000A67 A981                    		MOV.L 18H[R0], R1
00000A69 6C41                    		SHLL #04H, R1
00000A6B A80A                    		MOV.L 04H[R0], R2
00000A6D 4B12                    		ADD R1, R2
00000A6F A901                    		MOV.L 10H[R0], R1
00000A71 6111                    		CMP #01H, R1
00000A73 18                   S  		BNE L352
00000A74                         L351:	; if_then_bb138
                                 ;     902     {
                                 ;     903         can_block_p->MB[mbox_nr].ID.BIT.RTR = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",903
00000A74 EC2E                    		MOV.L [R2], R14
00000A76 79EE                    		BSET #1EH, R14
00000A78 E32E                    		MOV.L R14, [R2]
00000A7A 08                   S  		BRA L353
00000A7B                         L352:	; if_else_bb153
                                 ;     904     }
                                 ;     905     else 
                                 ;     906     {    
                                 ;     907         can_block_p->MB[mbox_nr].ID.BIT.RTR = 0;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",907
00000A7B EC2E                    		MOV.L [R2], R14
00000A7D 7BEE                    		BCLR #1EH, R14
00000A7F E32E                    		MOV.L R14, [R2]
00000A81                         L353:	; if_break_bb168
                                 ;     908     }
                                 ;     909  
                                 ;     910     #if (USE_CAN_POLL == 0)
                                 ;     911         /* Interrupt enable the mailbox */
                                 ;     912         can_block_p->MIER |= (bit_set[mbox_nr]);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",912
00000A81 FBE2rrrrrrrr            		MOV.L #__$bit_set, R14
00000A87 A981                    		MOV.L 18H[R0], R1
00000A89 FE61EE                  		MOV.L [R1,R14], R14
00000A8C A809                    		MOV.L 04H[R0], R1
00000A8E ED1F8B                  		MOV.L 022CH[R1], R15
00000A91 57EF                    		OR R14, R15
00000A93 E71F8B                  		MOV.L R15, 022CH[R1]
00000A96                         L354:	; if_break_bb168.split
                                 ;     913     #endif
                                 ;     914 
                                 ;     915     /* Request to receive the frame with RecReq bit. */
                                 ;     916     can_block_p->MCTL[mbox_nr].BYTE = 0x40;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",916
00000A96 A809                    		MOV.L 04H[R0], R1
00000A98 06890106                		ADD 18H[R0].L, R1
00000A9C FA14200640              		MOV.B #40H, 0620H[R1]
00000AA1                         L355:	; if_break_bb168.split6
                                 ;     917 
                                 ;     918     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",918
00000AA1 E10002                  		MOV.L 08H[R0], [R0]
00000AA4                         L356:	; bb184
00000AA4 EC01                    		MOV.L [R0], R1
00000AA6 A089                    		MOV.L R1, 0CH[R0]
                                 ;     919 } /* end R_CAN_RxSet() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",919
00000AA8 6710                    		RTSD #40H
00000AAA                         _R_CAN_RxSetXid:
                                 		.STACK	_R_CAN_RxSetXid=24
                                 ;     920 
                                 ;     921 
                                 ;     922 /*******************************************************************************
                                 ;     923 Function Name:  R_CAN_RxSetXid
                                 ;     924 Description:    Calls R_CAN_RxSet() after setting a bit in the id parameter to
                                 ;     925                 serve as an extended ID mode flag.          
                                 ;     926 Parameters:     ch_nr
                                 ;     927                 Mailbox nr.
                                 ;     928                 Frame ID value
                                 ;     929                 remote - REMOTE_FRAME to listen for remote requests, DATA_FRAME
                                 ;     930                  for receiving normal dataframes.
                                 ;     931 Return value:     value returned by R_CAN_RxSet is passed on.
                                 ;     932 *******************************************************************************/
                                 ;     933 uint32_t R_CAN_RxSetXid(const uint32_t     ch_nr, 
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",933
00000AAA 7100EC                  		ADD #0FFFFFFECH, R0
00000AAD A101                    		MOV.L R1, 10H[R0]
00000AAF A08A                    		MOV.L R2, 0CH[R0]
00000AB1 A083                    		MOV.L R3, 08H[R0]
00000AB3 A00C                    		MOV.L R4, 04H[R0]
                                 ;     934                         const uint32_t     mbox_nr, 
                                 ;     935                         uint32_t           xid,
                                 ;     936                         const uint32_t     frame_type)
                                 ;     937 {   
                                 ;     938     /* Add the Xid bit so that 29-bit ID will be used by R_CAN_RxSet(). */
                                 ;     939     return R_CAN_RxSet(ch_nr, mbox_nr, (xid | XID_MASK) , frame_type);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",939
00000AB5 A883                    		MOV.L 08H[R0], R3
00000AB7 A88A                    		MOV.L 0CH[R0], R2
00000AB9 A901                    		MOV.L 10H[R0], R1
00000ABB 7433000000E0            		OR #0E0000000H, R3
00000AC1 39rrrr               W  		BSR _R_CAN_RxSet
00000AC4 E301                    		MOV.L R1, [R0]
00000AC6                         L358:	; entry.split
                                 ;     940 } /* end R_CAN_RxSetXid() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",940
00000AC6 6705                    		RTSD #14H
00000AC8                         _R_CAN_RxPoll:
                                 		.STACK	_R_CAN_RxPoll=36
                                 ;     941 
                                 ;     942 /*******************************************************************************
                                 ;     943 Function Name:    R_CAN_RxPoll
                                 ;     944 Description:    Checks for received message in mailbox.
                                 ;     945 Parameters:        Channel nr.
                                 ;     946                 Mailbox nr.
                                 ;     947 Return value:    R_CAN_OK            There is a message waiting.
                                 ;     948                 R_CAN_NOT_OK        No message waiting.
                                 ;     949                 R_CAN_RXPOLL_TMO    Message pending but timed out.
                                 ;     950                 R_CAN_SW_BAD_MBX    Bad mailbox number.
                                 ;     951                 R_CAN_BAD_CH_NR     The channel number does not exist.
                                 ;     952 *******************************************************************************/
                                 ;     953 uint32_t R_CAN_RxPoll(const uint32_t ch_nr, const uint32_t mbox_nr)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",953
00000AC8 7100E0                  		ADD #0FFFFFFE0H, R0
00000ACB A189                    		MOV.L R1, 1CH[R0]
00000ACD A182                    		MOV.L R2, 18H[R0]
                                 ;     954 {
                                 ;     955     uint32_t api_status = R_CAN_NOT_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",955
00000ACF 3E0401                  		MOV.L #00000001H, 10H[R0]
00000AD2                         L360:	; entry.split
                                 ;     956     uint32_t poll_delay = MAX_CAN_REG_POLLTIME;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",956
00000AD2 3E0304                  		MOV.L #00000004H, 0CH[R0]
00000AD5                         L361:	; entry.split1
                                 ;     957     volatile struct st_can __evenaccess * can_block_p;
                                 ;     958     
                                 ;     959     CHECK_MBX_NR
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",959
00000AD5 A981                    		MOV.L 18H[R0], R1
00000AD7 755120                  		CMP #20H, R1
00000ADA 23rr                    		BLTU L363
00000ADC                         L362:	; if_then_bb
00000ADC 3E0140                  		MOV.L #00000040H, 04H[R0]
00000ADF 2Err                 B  		BRA L377
00000AE1                         L363:	; if_break_bb
                                 ;     960     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",960
00000AE1 A989                    		MOV.L 1CH[R0], R1
00000AE3 6101                    		CMP #00H, R1
00000AE5 18                   S  		BNE L365
00000AE6                         L364:	; if_then_bb13
                                 ;     961     {
                                 ;     962         can_block_p = (struct st_can __evenaccess *) 0x90200;         /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",962
00000AE6 F90E02000209            		MOV.L #00090200H, 08H[R0]
00000AEC 08                   S  		BRA L367
00000AED                         L365:	; if_else_bb
                                 ;     963     }
                                 ;     964     else
                                 ;     965     {
                                 ;     966         return R_CAN_BAD_CH_NR;        /* Channel does not exist for this MCU. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",966
00000AED 3E0120                  		MOV.L #00000020H, 04H[R0]
00000AF0 2Err                 B  		BRA L377
00000AF2                         L366:	; bb16
                                 ;     967     }
                                 ;     968     
                                 ;     969     /* Wait if new data is currently being received. */
                                 ;     970     while ((can_block_p->MCTL[mbox_nr].BIT.RX.INVALDATA) && poll_delay)
                                 ;     971     {
                                 ;     972         poll_delay--;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",972
00000AF2 6011                    		SUB #01H, R1
00000AF4 A089                    		MOV.L R1, 0CH[R0]
00000AF6                         L367:	; bb19
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",970
00000AF6 A881                    		MOV.L 08H[R0], R1
00000AF8 06890106                		ADD 18H[R0].L, R1
00000AFC F6112006                		BTST #01H, 0620H[R1].B
00000B00 10                   S  		BEQ L370
00000B01                         L368:	; bb36
00000B01 A889                    		MOV.L 0CH[R0], R1
00000B03 6101                    		CMP #00H, R1
00000B05 10                   S  		BEQ L370
00000B06                         L369:	; bb40
00000B06 F80601                  		MOV.L #00000001H, [R0]
00000B09 08                   S  		BRA L371
00000B0A                         L370:	; bb41
00000B0A F80600                  		MOV.L #00000000H, [R0]
00000B0D                         L371:	; bb42
00000B0D EC01                    		MOV.L [R0], R1
00000B0F 6101                    		CMP #00H, R1
00000B11 A889                    		MOV.L 0CH[R0], R1
00000B13 21rr                    		BNE L366
00000B15                         L372:	; bb47
                                 ;     973     }
                                 ;     974 
                                 ;     975     if (poll_delay == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",975
00000B15 6101                    		CMP #00H, R1
00000B17 18                   S  		BNE L374
00000B18                         L373:	; if_then_bb52
                                 ;     976     {
                                 ;     977         api_status = R_CAN_RXPOLL_TMO;     /* Still updating mailbox. Come back later. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",977
00000B18 3E0410                  		MOV.L #00000010H, 10H[R0]
00000B1B 2Err                 B  		BRA L376
00000B1D                         L374:	; if_else_bb53
                                 ;     978     }
                                 ;     979     else /* Message received? */
                                 ;     980     {
                                 ;     981     	/* If message received, tell user. */
                                 ;     982         if (can_block_p->MCTL[mbox_nr].BIT.RX.NEWDATA == 1)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",982
00000B1D A881                    		MOV.L 08H[R0], R1
00000B1F 06890106                		ADD 18H[R0].L, R1
00000B23 5A1E2006                		MOVU.B 0620H[R1], R14
00000B27 641E                    		AND #01H, R14
00000B29 611E                    		CMP #01H, R14
00000B2B 18                   S  		BNE L376
00000B2C                         L375:	; if_then_bb71
                                 ;     983         {
                                 ;     984             api_status = R_CAN_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",984
00000B2C 3E0400                  		MOV.L #00000000H, 10H[R0]
00000B2F                         L376:	; if_break_bb73
                                 ;     985         }
                                 ;     986     }
                                 ;     987     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",987
00000B2F E5000401                		MOV.L 10H[R0], 04H[R0]
00000B33                         L377:	; bb76
00000B33 A809                    		MOV.L 04H[R0], R1
00000B35 A109                    		MOV.L R1, 14H[R0]
                                 ;     988 }/* end R_CAN_RxPoll() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",988
00000B37 6708                    		RTSD #20H
00000B39                         _R_CAN_RxRead:
                                 		.STACK	_R_CAN_RxRead=36
                                 ;     989 
                                 ;     990 /*******************************************************************************
                                 ;     991 Function Name:  R_CAN_RxRead
                                 ;     992 Parameters:        Mailbox nr.
                                 ;     993                 frame_p: Data frame structure
                                 ;     994 Description:    Call from CAN receive interrupt. Copies received data from 
                                 ;     995                 message mailbox to memory.
                                 ;     996 Return value:    R_CAN_OK            There is a message waiting.
                                 ;     997                 R_CAN_SW_BAD_MBX    Bad mailbox number.
                                 ;     998                 R_CAN_BAD_CH_NR     The channel number does not exist.
                                 ;     999                 R_CAN_MSGLOST      Message was overwritten or lost.
                                 ;    1000 *******************************************************************************/
                                 ;    1001 uint32_t R_CAN_RxRead( const uint32_t           ch_nr,
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1001
00000B39 7100E0                  		ADD #0FFFFFFE0H, R0
00000B3C A189                    		MOV.L R1, 1CH[R0]
00000B3E A182                    		MOV.L R2, 18H[R0]
00000B40 A10B                    		MOV.L R3, 14H[R0]
                                 ;    1002                        const uint32_t           mbox_nr,
                                 ;    1003                        can_frame_t * const  frame_p )
                                 ;    1004 {
                                 ;    1005     uint32_t i;
                                 ;    1006     uint32_t api_status = R_CAN_OK;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1006
00000B42 3E0200                  		MOV.L #00000000H, 08H[R0]
00000B45                         L379:	; entry.split
                                 ;    1007     volatile struct st_can __evenaccess * can_block_p;
                                 ;    1008     
                                 ;    1009     CHECK_MBX_NR
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1009
00000B45 A981                    		MOV.L 18H[R0], R1
00000B47 755120                  		CMP #20H, R1
00000B4A 23rr                    		BLTU L381
00000B4C                         L380:	; if_then_bb
00000B4C F80640                  		MOV.L #00000040H, [R0]
00000B4F 38rrrr               W  		BRA L399
00000B52                         L381:	; if_break_bb
                                 ;    1010     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1010
00000B52 A989                    		MOV.L 1CH[R0], R1
00000B54 6101                    		CMP #00H, R1
00000B56 21rr                    		BNE L384
00000B58                         L382:	; if_then_bb14
                                 ;    1011     {
                                 ;    1012         can_block_p = (struct st_can __evenaccess *) 0x90200; /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1012
00000B58 F90E01000209            		MOV.L #00090200H, 04H[R0]
00000B5E                         L383:	; if_then_bb14.split
                                 ;    1013     }
                                 ;    1014     else
                                 ;    1015     {
                                 ;    1016         return R_CAN_BAD_CH_NR;    /* Channel does not exist for this MCU. */
                                 ;    1017     }
                                 ;    1018     
                                 ;    1019     /* EXT_ID_MODE */
                                 ;    1020     /* Copy received data from message mailbox to memory. The IDE bit is only valid in mixed mode. */
                                 ;    1021     if (can_block_p->CTLR.BIT.IDFM == EXT_ID_MODE)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1021
00000B5E A809                    		MOV.L 04H[R0], R1
00000B60 5A1E4106                		MOVU.B 0641H[R1], R14
00000B64 681E                    		SHLR #01H, R14
00000B66 643E                    		AND #03H, R14
00000B68 611E                    		CMP #01H, R14
00000B6A 10                   S  		BEQ L385
00000B6B 2Err                 B  		BRA L386
00000B6D                         L384:	; if_else_bb
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1016
00000B6D F80620                  		MOV.L #00000020H, [R0]
00000B70 38rrrr               W  		BRA L399
00000B73                         L385:	; if_then_bb30
                                 ;    1022     {
                                 ;    1023         /* Get mailbox Extended ID, keeping only lower 29 bits. */
                                 ;    1024         frame_p->id = (can_block_p->MB[mbox_nr].ID.LONG & (~XID_MASK));
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1024
00000B73 A981                    		MOV.L 18H[R0], R1
00000B75 6C41                    		SHLL #04H, R1
00000B77 A80A                    		MOV.L 04H[R0], R2
00000B79 4B12                    		ADD R1, R2
00000B7B A909                    		MOV.L 14H[R0], R1
00000B7D EC2E                    		MOV.L [R2], R14
00000B7F 742EFFFFFF1F            		AND #1FFFFFFFH, R14
00000B85 E31E                    		MOV.L R14, [R1]
00000B87 2Err                 B  		BRA L391
00000B89                         L386:	; if_else_bb42
                                 ;    1025     }
                                 ;    1026     /* MIXED_ID_MODE */
                                 ;    1027     else if (can_block_p->CTLR.BIT.IDFM == MIXED_ID_MODE)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1027
00000B89 A809                    		MOV.L 04H[R0], R1
00000B8B 5A1E4106                		MOVU.B 0641H[R1], R14
00000B8F 681E                    		SHLR #01H, R14
00000B91 643E                    		AND #03H, R14
00000B93 612E                    		CMP #02H, R14
00000B95 21rr                    		BNE L390
00000B97                         L387:	; if_then_bb56
                                 ;    1028     {
                                 ;    1029         if (can_block_p->MB[mbox_nr].ID.BIT.IDE == 1) /* Check for XID control bit set. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1029
00000B97 A981                    		MOV.L 18H[R0], R1
00000B99 6C41                    		SHLL #04H, R1
00000B9B A80A                    		MOV.L 04H[R0], R2
00000B9D 4B12                    		ADD R1, R2
00000B9F EC2E                    		MOV.L [R2], R14
00000BA1 A981                    		MOV.L 18H[R0], R1
00000BA3 6C41                    		SHLL #04H, R1
00000BA5 A80A                    		MOV.L 04H[R0], R2
00000BA7 4B12                    		ADD R1, R2
00000BA9 69FE                    		SHLR #1FH, R14
00000BAB 611E                    		CMP #01H, R14
00000BAD A909                    		MOV.L 14H[R0], R1
00000BAF 21rr                    		BNE L389
00000BB1                         L388:	; if_then_bb73
                                 ;    1030         {
                                 ;    1031             /* Get mailbox Extended ID, keeping only lower 29 bits. */
                                 ;    1032             frame_p->id = (can_block_p->MB[mbox_nr].ID.LONG & (~XID_MASK));
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1032
00000BB1 EC2E                    		MOV.L [R2], R14
00000BB3 742EFFFFFF1F            		AND #1FFFFFFFH, R14
00000BB9 E31E                    		MOV.L R14, [R1]
00000BBB 2Err                 B  		BRA L391
00000BBD                         L389:	; if_else_bb85
                                 ;    1033         }
                                 ;    1034         else
                                 ;    1035         {
                                 ;    1036             /* Get only the lower 11 bits from the SID. */
                                 ;    1037             frame_p->id = can_block_p->MB[mbox_nr].ID.BIT.SID;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1037
00000BBD EC2E                    		MOV.L [R2], R14
00000BBF 6C3E                    		SHLL #03H, R14
00000BC1 695E                    		SHLR #15H, R14
00000BC3 E31E                    		MOV.L R14, [R1]
00000BC5 2Err                 B  		BRA L391
00000BC7                         L390:	; if_else_bb103
                                 ;    1038         }
                                 ;    1039     }
                                 ;    1040     /* STD_ID_MODE */
                                 ;    1041     else
                                 ;    1042     {
                                 ;    1043         /* Get lower 11 bits from SID. */
                                 ;    1044         frame_p->id = can_block_p->MB[mbox_nr].ID.BIT.SID;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1044
00000BC7 A981                    		MOV.L 18H[R0], R1
00000BC9 6C41                    		SHLL #04H, R1
00000BCB A80A                    		MOV.L 04H[R0], R2
00000BCD 4B12                    		ADD R1, R2
00000BCF A909                    		MOV.L 14H[R0], R1
00000BD1 EC2E                    		MOV.L [R2], R14
00000BD3 6C3E                    		SHLL #03H, R14
00000BD5 695E                    		SHLR #15H, R14
00000BD7 E31E                    		MOV.L R14, [R1]
00000BD9                         L391:	; if_break_bb121
                                 ;    1045     }
                                 ;    1046 
                                 ;    1047     frame_p->dlc = (uint8_t)can_block_p->MB[mbox_nr].DLC.BIT.DLC;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1047
00000BD9 A981                    		MOV.L 18H[R0], R1
00000BDB 6C41                    		SHLL #04H, R1
00000BDD A80A                    		MOV.L 04H[R0], R2
00000BDF 4B12                    		ADD R1, R2
00000BE1 A909                    		MOV.L 14H[R0], R1
00000BE3 B12A                    		MOVU.B 05H[R2], R2
00000BE5 64F2                    		AND #0FH, R2
00000BE7 8112                    		MOV.B R2, 04H[R1]
00000BE9                         L392:	; if_break_bb121.split
                                 ;    1048 
                                 ;    1049     for (i = 0; i < can_block_p->MB[mbox_nr].DLC.BIT.DLC; i++)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1049
00000BE9 3E0300                  		MOV.L #00000000H, 0CH[R0]
00000BEC 2Err                 B  		BRA L394
00000BEE                         L393:	; bb137
                                 ;    1050     {
                                 ;    1051         frame_p->data[i] = can_block_p->MB[mbox_nr].DATA[i];
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1051
00000BEE A889                    		MOV.L 0CH[R0], R1
00000BF0 A90A                    		MOV.L 14H[R0], R2
00000BF2 4B12                    		ADD R1, R2
00000BF4 A983                    		MOV.L 18H[R0], R3
00000BF6 6C43                    		SHLL #04H, R3
00000BF8 A80C                    		MOV.L 04H[R0], R4
00000BFA 4B34                    		ADD R3, R4
00000BFC 4B14                    		ADD R1, R4
00000BFE C5420605                		MOV.B 06H[R4], 05H[R2]
00000C02 A889                    		MOV.L 0CH[R0], R1
00000C04 6211                    		ADD #01H, R1
00000C06 A089                    		MOV.L R1, 0CH[R0]
00000C08                         L394:	; bb155
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1049
00000C08 A981                    		MOV.L 18H[R0], R1
00000C0A 6C41                    		SHLL #04H, R1
00000C0C A80A                    		MOV.L 04H[R0], R2
00000C0E 4B12                    		ADD R1, R2
00000C10 A889                    		MOV.L 0CH[R0], R1
00000C12 B12A                    		MOVU.B 05H[R2], R2
00000C14 64F2                    		AND #0FH, R2
00000C16 4712                    		CMP R1, R2
00000C18 24rr                    		BGTU L393
00000C1A                         L395:	; bb174
                                 ;    1052     }
                                 ;    1053 
                                 ;    1054     /* Check if message was lost/overwritten. */
                                 ;    1055     if (can_block_p->MCTL[mbox_nr].BIT.RX.MSGLOST)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1055
00000C1A A809                    		MOV.L 04H[R0], R1
00000C1C 06890106                		ADD 18H[R0].L, R1
00000C20 F6122006                		BTST #02H, 0620H[R1].B
00000C24 10                   S  		BEQ L397
00000C25                         L396:	; if_then_bb192
                                 ;    1056     {
                                 ;    1057         api_status = R_CAN_MSGLOST;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1057
00000C25 3E0204                  		MOV.L #00000004H, 08H[R0]
00000C28                         L397:	; if_break_bb193
                                 ;    1058         /* MSGLOST bit will be cleared below. */
                                 ;    1059     }
                                 ;    1060 
                                 ;    1061     /* Clear MSGLOST.
                                 ;    1062      * Also set NEWDATA to 0 since the mailbox was just emptied and start over with new RxPolls.
                                 ;    1063      * Do a byte-write to avoid read-modify-write with HW writing another bit inbetween. See HW manual footnote.*/
                                 ;    1064     can_block_p->MCTL[mbox_nr].BYTE = 0x40;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1064
00000C28 A809                    		MOV.L 04H[R0], R1
00000C2A 06890106                		ADD 18H[R0].L, R1
00000C2E FA14200640              		MOV.B #40H, 0620H[R1]
00000C33                         L398:	; if_break_bb193.split
                                 ;    1065     
                                 ;    1066     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1066
00000C33 E10002                  		MOV.L 08H[R0], [R0]
00000C36                         L399:	; bb202
00000C36 EC01                    		MOV.L [R0], R1
00000C38 A101                    		MOV.L R1, 10H[R0]
                                 ;    1067 }/* end R_CAN_RxRead() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1067
00000C3A 6708                    		RTSD #20H
00000C3C                         _R_CAN_RxSetMask:
                                 		.STACK	_R_CAN_RxSetMask=24
                                 ;    1068 
                                 ;    1069 /*******************************************************************************
                                 ;    1070 Function Name:  R_CAN_RxSetMask
                                 ;    1071 Description:    Set a CAN bus mask for specified mask register. Note that the 
                                 ;    1072                 MKIVLR register is used to disable the acceptance filtering 
                                 ;    1073                 function individually for each mailbox.
                                 ;    1074 Parameters:     ch_nr
                                 ;    1075                 mask_value. For each bit that is 1; corresponding SID bit
                                 ;    1076                                 is compared.
                                 ;    1077                 mbox_nr            0-31. The mailbox nr translates to mask_reg_nr:
                                 ;    1078                                 0 for mailboxes 0-3
                                 ;    1079                                 1 for mailboxes 4-7
                                 ;    1080                                 2 for mailboxes 8-11
                                 ;    1081                                 3 for mailboxes 12-15
                                 ;    1082                                 4 for mailboxes 16-19
                                 ;    1083                                 5 for mailboxes 20-23
                                 ;    1084                                 6 for mailboxes 24-27
                                 ;    1085                                 7 for mailboxes 28-31
                                 ;    1086 Return value:     -
                                 ;    1087 *******************************************************************************/
                                 ;    1088 void R_CAN_RxSetMask( const uint32_t ch_nr,
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1088
00000C3C 7100EC                  		ADD #0FFFFFFECH, R0
00000C3F A101                    		MOV.L R1, 10H[R0]
00000C41 A08A                    		MOV.L R2, 0CH[R0]
00000C43 A083                    		MOV.L R3, 08H[R0]
                                 ;    1089                       const uint32_t mbox_nr,
                                 ;    1090                       const uint32_t mask_value)
                                 ;    1091 {
                                 ;    1092     volatile struct st_can __evenaccess * can_block_p;
                                 ;    1093     
                                 ;    1094     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1094
00000C45 A901                    		MOV.L 10H[R0], R1
00000C47 6101                    		CMP #00H, R1
00000C49 3Brrrr               W  		BNE L412
00000C4C                         L401:	; if_then_bb
                                 ;    1095     {
                                 ;    1096         can_block_p = (struct st_can __evenaccess *) 0x90200;/* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1096
00000C4C F90E01000209            		MOV.L #00090200H, 04H[R0]
00000C52                         L402:	; if_then_bb.split
                                 ;    1097     }
                                 ;    1098     else
                                 ;    1099     {
                                 ;    1100         return; /* Channel does not exist for this MCU. */
                                 ;    1101     }
                                 ;    1102 
                                 ;    1103     /* Write to MKR0 to MKR7 in CAN reset mode or CAN halt mode. */
                                 ;    1104     R_CAN_Control(ch_nr, HALT_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1104
00000C52 A901                    		MOV.L 10H[R0], R1
00000C54 6652                    		MOV.L #00000005H, R2
00000C56 39rrrr               W  		BSR _R_CAN_Control
00000C59                         L403:	; if_then_bb.split1
                                 ;    1105     
                                 ;    1106     /* Set mask for the group of mailboxes. */
                                 ;    1107     if ((can_block_p->CTLR.BIT.IDFM == EXT_ID_MODE) || (can_block_p->CTLR.BIT.IDFM == MIXED_ID_MODE))
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1107
00000C59 A809                    		MOV.L 04H[R0], R1
00000C5B 5A1E4106                		MOVU.B 0641H[R1], R14
00000C5F 681E                    		SHLR #01H, R14
00000C61 643E                    		AND #03H, R14
00000C63 611E                    		CMP #01H, R14
00000C65 20rr                    		BEQ L405
00000C67                         L404:	; bb21
00000C67 A809                    		MOV.L 04H[R0], R1
00000C69 5A1E4106                		MOVU.B 0641H[R1], R14
00000C6D 681E                    		SHLR #01H, R14
00000C6F 643E                    		AND #03H, R14
00000C71 612E                    		CMP #02H, R14
00000C73 18                   S  		BNE L406
00000C74                         L405:	; bb34
00000C74 F80601                  		MOV.L #00000001H, [R0]
00000C77 08                   S  		BRA L407
00000C78                         L406:	; bb35
00000C78 F80600                  		MOV.L #00000000H, [R0]
00000C7B                         L407:	; bb36
00000C7B A889                    		MOV.L 0CH[R0], R1
00000C7D 7521FC                  		AND #0FFFFFFFCH, R1
00000C80 A80A                    		MOV.L 04H[R0], R2
00000C82 4B12                    		ADD R1, R2
00000C84 72220002                		ADD #0200H, R2
00000C88 EC01                    		MOV.L [R0], R1
00000C8A 6101                    		CMP #00H, R1
00000C8C 20rr                    		BEQ L409
00000C8E                         L408:	; if_then_bb41
                                 ;    1108     {
                                 ;    1109         /* Set XID 29-bit mask value in mask register. */
                                 ;    1110         can_block_p->MKR[mbox_nr/4].LONG = (mask_value & (~XID_MASK));
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1110
00000C8E A881                    		MOV.L 08H[R0], R1
00000C90 7421FFFFFF1F            		AND #1FFFFFFFH, R1
00000C96 E321                    		MOV.L R1, [R2]
00000C98 2Err                 B  		BRA L410
00000C9A                         L409:	; if_else_bb51
                                 ;    1111     }
                                 ;    1112     else
                                 ;    1113     {
                                 ;    1114         /* Set SID 11-bit mask value in mask register. */
                                 ;    1115         can_block_p->MKR[mbox_nr/4].BIT.SID = mask_value;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1115
00000C9A A881                    		MOV.L 08H[R0], R1
00000C9C EC2E                    		MOV.L [R2], R14
00000C9E 742EFFFF03E0            		AND #0E003FFFFH, R14
00000CA4 6D21                    		SHLL #12H, R1
00000CA6 74210000FC1F            		AND #1FFC0000H, R1
00000CAC 571E                    		OR R1, R14
00000CAE E32E                    		MOV.L R14, [R2]
00000CB0                         L410:	; if_break_bb69
                                 ;    1116     }
                                 ;    1117 
                                 ;    1118     /* Set mailbox mask to be used. (0 = mask VALID.) */
                                 ;    1119     can_block_p->MKIVLR &= ~(bit_set[mbox_nr]);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1119
00000CB0 FBE2rrrrrrrr            		MOV.L #__$bit_set, R14
00000CB6 A889                    		MOV.L 0CH[R0], R1
00000CB8 FE61EE                  		MOV.L [R1,R14], R14
00000CBB 7E0E                    		NOT R14
00000CBD A809                    		MOV.L 04H[R0], R1
00000CBF ED1F8A                  		MOV.L 0228H[R1], R15
00000CC2 53EF                    		AND R14, R15
00000CC4 E71F8A                  		MOV.L R15, 0228H[R1]
00000CC7                         L411:	; if_break_bb69.split
                                 ;    1120     
                                 ;    1121     R_CAN_Control(ch_nr, OPERATE_CANMODE);
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1121
00000CC7 A901                    		MOV.L 10H[R0], R1
00000CC9 6662                    		MOV.L #00000006H, R2
00000CCB 39rrrr               W  		BSR _R_CAN_Control
00000CCE 6705                    		RTSD #14H
00000CD0                         L412:	; return
                                 ;    1122             
                                 ;    1123 }/* end R_CAN_RxSetMask() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1123
00000CD0 6705                    		RTSD #14H
00000CD2                         _R_CAN_CheckErr:
                                 		.STACK	_R_CAN_CheckErr=24
                                 ;    1124 
                                 ;    1125 /*****************************************************************************
                                 ;    1126 Name:           R_CAN_WaitTxRx
                                 ;    1127 
                                 ;    1128 Parameters:     Channel nr.
                                 ;    1129                 Mailbox nr.
                                 ;    1130 
                                 ;    1131 Description:    Wait for communicating mailbox to complete action. This is 
                                 ;    1132                 appropriate if a mailbox needs to be reconfigured to do some-
                                 ;    1133                 thing else, but the user wants any pending receive or transmit 
                                 ;    1134                 to finish.
                                 ;    1135                     Note that the function does not always wait. If the mailbox
                                 ;    1136                 is idle, it will not wait at all.
                                 ;    1137                     If you want to send in a hurry, use another mailbox, alter-
                                 ;    1138                 nate mailboxes, or even use the FIFO that can transmit/receive 
                                 ;    1139                 from four mailboxes. 
                                 ;    1140                     The max wait MAX_CAN_SW_DELAY is kind of superficial. "Ideal-
                                 ;    1141                 ly" you would wait as long as it takes for the previous frame to 
                                 ;    1142                 finish its transmit, but that may could cause the program to 
                                 ;    1143                 block a long time if the bus is busy. This would be bad espec-
                                 ;    1144                 ially if the system is not using an RTOS.
                                 ;    1145 
                                 ;    1146 Return value:   R_CAN_OK            There is a message waiting.
                                 ;    1147                 R_CAN_SW_BAD_MBX    Bad mailbox number.
                                 ;    1148                 R_CAN_BAD_CH_NR     The channel number does not exist.
                                 ;    1149                 R_CAN_SW_SET_TX_TMO    Waiting for previous transmission to finish 
                                 ;    1150                                     timed out.
                                 ;    1151                 R_CAN_SW_SET_RX_TMO    Waiting for previous reception to complete 
                                 ;    1152                                     timed out.
                                 ;    1153 *****************************************************************************/
                                 ;    1154 #pragma inline(R_CAN_WaitTxRx)
                                 ;    1155 static uint32_t R_CAN_WaitTxRx(const uint32_t ch_nr, const uint32_t mbox_nr)
                                 ;    1156 {
                                 ;    1157     uint32_t api_status = R_CAN_OK;
                                 ;    1158     uint32_t can_tmo_cnt = MAX_CAN_SW_DELAY;
                                 ;    1159     volatile struct st_can __evenaccess * can_block_p;
                                 ;    1160     
                                 ;    1161     CHECK_MBX_NR
                                 ;    1162     if (ch_nr == 0)
                                 ;    1163     {
                                 ;    1164         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 ;    1165     }
                                 ;    1166     else
                                 ;    1167     {
                                 ;    1168         return R_CAN_BAD_CH_NR;        /* Channel does not exist for this MCU. */
                                 ;    1169     }
                                 ;    1170 
                                 ;    1171     /* Wait for any previous transmission to complete. */
                                 ;    1172     if (can_block_p->MCTL[mbox_nr].BIT.TX.TRMREQ)
                                 ;    1173     {
                                 ;    1174         while ((can_block_p->MCTL[mbox_nr].BIT.TX.SENTDATA == 0) && DEC_CHK_CAN_SW_TMR) 
                                 ;    1175         {
                                 ;    1176         }
                                 ;    1177 
                                 ;    1178         if (can_tmo_cnt == 0) 
                                 ;    1179         {
                                 ;    1180             api_status = R_CAN_SW_SET_TX_TMO;
                                 ;    1181         }
                                 ;    1182     }
                                 ;    1183     /* Wait for any previous reception to complete. */
                                 ;    1184     else if (can_block_p->MCTL[mbox_nr].BIT.TX.RECREQ)    //Strange; but iodefine has TX here..
                                 ;    1185     {
                                 ;    1186         while ((can_block_p->MCTL[mbox_nr].BIT.RX.INVALDATA == 1) && DEC_CHK_CAN_SW_TMR) 
                                 ;    1187         {
                                 ;    1188         }
                                 ;    1189 
                                 ;    1190         if (can_tmo_cnt == 0) 
                                 ;    1191         {
                                 ;    1192             api_status = R_CAN_SW_SET_RX_TMO;
                                 ;    1193         }
                                 ;    1194     }
                                 ;    1195     return api_status;
                                 ;    1196 }/* end R_CAN_WaitTxRx() */
                                 ;    1197 
                                 ;    1198 /*******************************************************************************
                                 ;    1199 Function Name:  R_CAN_CheckErr
                                 ;    1200 Description:    Checks CAN peripheraol error state.
                                 ;    1201 Parameters:        -
                                 ;    1202 Return value:     0 = No error
                                 ;    1203                 1 = CAN is in error active state
                                 ;    1204                 2 = CAN is in error passive state
                                 ;    1205                 4 = CAN is in bus-off state
                                 ;    1206 *******************************************************************************/
                                 ;    1207 uint32_t R_CAN_CheckErr(const uint32_t    ch_nr)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1207
00000CD2 7100EC                  		ADD #0FFFFFFECH, R0
00000CD5 A101                    		MOV.L R1, 10H[R0]
                                 ;    1208 {
                                 ;    1209     uint32_t api_status = R_CAN_STATUS_ERROR_ACTIVE; /* Store return value */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1209
00000CD7 3E0201                  		MOV.L #00000001H, 08H[R0]
00000CDA                         L414:	; entry.split
                                 ;    1210     volatile struct st_can __evenaccess * can_block_p;
                                 ;    1211     
                                 ;    1212     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1212
00000CDA A901                    		MOV.L 10H[R0], R1
00000CDC 6101                    		CMP #00H, R1
00000CDE 21rr                    		BNE L417
00000CE0                         L415:	; if_then_bb
                                 ;    1213     {
                                 ;    1214         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1214
00000CE0 F90E01000209            		MOV.L #00090200H, 04H[R0]
00000CE6                         L416:	; if_then_bb.split
                                 ;    1215     }
                                 ;    1216     else
                                 ;    1217     {
                                 ;    1218         return R_CAN_BAD_CH_NR;        /* Channel does not exist for this MCU. */
                                 ;    1219     }
                                 ;    1220 
                                 ;    1221     /* Check CAN error state */
                                 ;    1222     if (can_block_p->STR.BIT.EST)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1222
00000CE6 A809                    		MOV.L 04H[R0], R1
00000CE8 5A1E4306                		MOVU.B 0643H[R1], R14
00000CEC 687E                    		SHLR #07H, R14
00000CEE 610E                    		CMP #00H, R14
00000CF0 18                   S  		BNE L418
00000CF1 2Err                 B  		BRA L422
00000CF3                         L417:	; if_else_bb
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1218
00000CF3 F80620                  		MOV.L #00000020H, [R0]
00000CF6 2Err                 B  		BRA L423
00000CF8                         L418:	; if_then_bb19
                                 ;    1223     {
                                 ;    1224         /* Check error-passive state */
                                 ;    1225         if (can_block_p->STR.BIT.EPST)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1225
00000CF8 A809                    		MOV.L 04H[R0], R1
00000CFA F6134206                		BTST #03H, 0642H[R1].B
00000CFE 10                   S  		BEQ L420
00000CFF                         L419:	; if_then_bb33
                                 ;    1226         {
                                 ;    1227             api_status = R_CAN_STATUS_ERROR_PASSIVE;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1227
00000CFF 3E0202                  		MOV.L #00000002H, 08H[R0]
00000D02 2Err                 B  		BRA L422
00000D04                         L420:	; if_else_bb34
                                 ;    1228         }
                                 ;    1229 
                                 ;    1230         /* Check bus-off state */
                                 ;    1231         else if (can_block_p->STR.BIT.BOST)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1231
00000D04 A809                    		MOV.L 04H[R0], R1
00000D06 F6144206                		BTST #04H, 0642H[R1].B
00000D0A 10                   S  		BEQ L422
00000D0B                         L421:	; if_then_bb48
                                 ;    1232         {
                                 ;    1233             api_status = R_CAN_STATUS_BUSOFF;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1233
00000D0B 3E0204                  		MOV.L #00000004H, 08H[R0]
00000D0E                         L422:	; if_break_bb51
                                 ;    1234         }
                                 ;    1235     }
                                 ;    1236     
                                 ;    1237     return api_status;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1237
00000D0E E10002                  		MOV.L 08H[R0], [R0]
00000D11                         L423:	; bb54
00000D11 EC01                    		MOV.L [R0], R1
00000D13 A089                    		MOV.L R1, 0CH[R0]
                                 ;    1238 } /* end R_CAN_CheckErr() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1238
00000D15 6705                    		RTSD #14H
00000D17                         _R_CAN_SetBitrate:
                                 		.STACK	_R_CAN_SetBitrate=12
                                 ;    1239 
                                 ;    1240 /*******************************************************************************
                                 ;    1241 Function Name:  R_CAN_SetBitrate
                                 ;    1242 Description:    Sets clock speed and bit rate for CAN as defined in 
                                 ;    1243                 config.h.
                                 ;    1244 Parameters:     -
                                 ;    1245 Return value:     -
                                 ;    1246 *******************************************************************************/
                                 ;    1247 void R_CAN_SetBitrate(const uint32_t ch_nr)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1247
00000D17 6080                    		SUB #08H, R0
00000D19 A009                    		MOV.L R1, 04H[R0]
                                 ;    1248 {    
                                 ;    1249     volatile struct st_can __evenaccess * can_block_p;
                                 ;    1250     
                                 ;    1251     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1251
00000D1B 6101                    		CMP #00H, R1
00000D1D 21rr                    		BNE L430
00000D1F                         L425:	; if_then_bb
                                 ;    1252     {
                                 ;    1253         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1253
00000D1F F80E000209              		MOV.L #00090200H, [R0]
00000D24                         L426:	; if_then_bb.split
                                 ;    1254     }
                                 ;    1255     else
                                 ;    1256     {
                                 ;    1257         return;        /* Channel does not exist for this MCU. */
                                 ;    1258     }
                                 ;    1259 
                                 ;    1260     /* Set TSEG1, TSEG2 and SJW. */
                                 ;    1261     can_block_p->BCR.BIT.BRP   = CAN_BRP - 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1261
00000D24 EC01                    		MOV.L [R0], R1
00000D26 EE1E9101                		MOV.L 0644H[R1], R14
00000D2A 773E000003              		OR #00030000H, R14
00000D2F 742EFFFF03FC            		AND #0FC03FFFFH, R14
00000D35 EB1E9101                		MOV.L R14, 0644H[R1]
00000D39                         L427:	; if_then_bb.split1
                                 ;    1262     can_block_p->BCR.BIT.TSEG1 = CAN_TSEG1 - 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1262
00000D39 EC01                    		MOV.L [R0], R1
00000D3B EE1E9101                		MOV.L 0644H[R1], R14
00000D3F 743E000000E0            		OR #0E0000000H, R14
00000D45 7BCE                    		BCLR #1CH, R14
00000D47 EB1E9101                		MOV.L R14, 0644H[R1]
00000D4B                         L428:	; if_then_bb.split2
                                 ;    1263     can_block_p->BCR.BIT.TSEG2 = CAN_TSEG2 - 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1263
00000D4B EC01                    		MOV.L [R0], R1
00000D4D EE1E9101                		MOV.L 0644H[R1], R14
00000D51 763E0007                		OR #0700H, R14
00000D55 EB1E9101                		MOV.L R14, 0644H[R1]
00000D59                         L429:	; if_then_bb.split3
                                 ;    1264     can_block_p->BCR.BIT.SJW   = CAN_SJW - 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1264
00000D59 EC01                    		MOV.L [R0], R1
00000D5B EE1E9101                		MOV.L 0644H[R1], R14
00000D5F 78CE                    		BSET #0CH, R14
00000D61 7ADE                    		BCLR #0DH, R14
00000D63 EB1E9101                		MOV.L R14, 0644H[R1]
00000D67 6702                    		RTSD #08H
00000D69                         L430:	; return
                                 ;    1265 }/* end R_CAN_SetBitrate() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1265
00000D69 6702                    		RTSD #08H
00000D6B                         __$R_CAN_ConfigCANinterrupts:
                                 		.STACK	__$R_CAN_ConfigCANinterrupts=12
                                 ;    1266 
                                 ;    1267 /**********************************************************************************
                                 ;    1268 Function Name:  R_CAN_ConfigCANinterrupts
                                 ;    1269 Description  :  Configuration of CAN interrupts.
                                 ;    1270                 
                                 ;    1271                 CAN0 interrupts:
                                 ;    1272                 Source    Name    Vector    Address        IER, BIT        IPR
                                 ;    1273                                 nr.        offset
                                 ;    1274                 ============================================================
                                 ;    1275                 CAN0     ERS0     56         00E0         IER07, IEN0        IPR18
                                 ;    1276                 "        RXF0     57         00E4         IER07, IEN1        "
                                 ;    1277                 "        TXM0     58         00E8         IER07, IEN2        "
                                 ;    1278                 "        RXM0     59         00EC         IER07, IEN3        "
                                 ;    1279                 "        TXM0     60         00F0         IER07, IEN4        "
                                 ;    1280 Parameters   :     -
                                 ;    1281 Return value :     -
                                 ;    1282 ***********************************************************************************/
                                 ;    1283 void R_CAN_ConfigCANinterrupts(const uint32_t ch_nr)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1283
00000D6B 6080                    		SUB #08H, R0
00000D6D A009                    		MOV.L R1, 04H[R0]
                                 ;    1284 {
                                 ;    1285     volatile struct st_can __evenaccess * can_block_p;
                                 ;    1286     
                                 ;    1287     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1287
00000D6F 6101                    		CMP #00H, R1
00000D71 21rr                    		BNE L443
00000D73                         L432:	; if_then_bb
                                 ;    1288     {
                                 ;    1289         can_block_p = (struct st_can __evenaccess *) 0x90200;        /* Point to CAN0 peripheral block. */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1289
00000D73 F80E000209              		MOV.L #00090200H, [R0]
00000D78                         L433:	; if_then_bb.split
                                 ;    1290     }
                                 ;    1291     else
                                 ;    1292     {
                                 ;    1293         return;        /* Channel does not exist for this MCU. */
                                 ;    1294     }
                                 ;    1295     
                                 ;    1296     if (ch_nr == 0)
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1296
00000D78 A809                    		MOV.L 04H[R0], R1
00000D7A 6101                    		CMP #00H, R1
00000D7C 21rr                    		BNE L443
00000D7E                         L434:	; if_then_bb9
                                 ;    1297     {
                                 ;    1298         /* Mailbox interrupt enable registers. Disable interrupts for all slots. 
                                 ;    1299         They will be enabled individually by the API. */
                                 ;    1300         can_block_p->MIER = 0x00000000;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1300
00000D7E EC01                    		MOV.L [R0], R1
00000D80 F9168B00                		MOV.L #00000000H, 022CH[R1]
00000D84                         L435:	; if_then_bb9.split
00000D84 FBEE077208              		MOV.L #00087207H, R14
                                 ;    1301 
                                 ;    1302 #if (USE_CAN_POLL == 0)
                                 ;    1303             /* Configure CAN Tx interrupt. */
                                 ;    1304             //ICU.IER[IER_CAN0_TXM0].BIT.IEN4 = 1;
                                 ;    1305             //ICU.IPR[IPR_CAN0_TXM0].BIT.IPR = 3;
                                 ;    1306             /* ..or use the macros! */
                                 ;    1307             IEN(CAN0, TXM0) = 1;    //1 = interrupt enabled.
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1307
00000D89 F0E4                    		BSET #04H, [R14].B
00000D8B                         L436:	; if_then_bb9.split1
00000D8B FBEE187308              		MOV.L #00087318H, R14
                                 ;    1308             IPR(CAN0, TXM0) = CAN0_INT_LVL;    //priority
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1308
00000D90 58EF                    		MOVU.B [R14], R15
00000D92 781F                    		BSET #01H, R15
00000D94 762FF200                		AND #0F2H, R15
00000D98 C3EF                    		MOV.B R15, [R14]
00000D9A                         L437:	; if_then_bb9.split2
00000D9A FBEE077208              		MOV.L #00087207H, R14
                                 ;    1309     
                                 ;    1310             /* Configure CAN Rx interrupt. */
                                 ;    1311             IEN(CAN0, RXM0) = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1311
00000D9F F0E3                    		BSET #03H, [R14].B
00000DA1                         L438:	; if_then_bb9.split3
00000DA1 FBEE187308              		MOV.L #00087318H, R14
                                 ;    1312             IPR(CAN0, RXM0) = CAN0_INT_LVL;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1312
00000DA6 58EF                    		MOVU.B [R14], R15
00000DA8 781F                    		BSET #01H, R15
00000DAA 762FF200                		AND #0F2H, R15
00000DAE C3EF                    		MOV.B R15, [R14]
00000DB0                         L439:	; if_then_bb9.split4
00000DB0 FBEE077208              		MOV.L #00087207H, R14
                                 ;    1313     
                                 ;    1314             /* Configure CAN Error interrupt. */
                                 ;    1315             IEN(CAN0, ERS0) = 1;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1315
00000DB5 F0E0                    		BSET #00H, [R14].B
00000DB7                         L440:	; if_then_bb9.split5
00000DB7 FBEE187308              		MOV.L #00087318H, R14
                                 ;    1316             IPR(CAN0, ERS0) = CAN0_INT_LVL;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1316
00000DBC 58EF                    		MOVU.B [R14], R15
00000DBE 781F                    		BSET #01H, R15
00000DC0 762FF200                		AND #0F2H, R15
00000DC4 C3EF                    		MOV.B R15, [R14]
00000DC6                         L441:	; if_then_bb9.split6
00000DC6 FBEE4C0809              		MOV.L #0009084CH, R14
                                 ;    1317             CAN0.EIER.BYTE = 0xFF;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1317
00000DCB F8E4FF                  		MOV.B #0FFH, [R14]
00000DCE                         L442:	; if_then_bb9.split7
00000DCE FBEE127308              		MOV.L #00087312H, R14
                                 ;    1318 
                                 ;    1319             /* RX CAN0 uses:
                                 ;    1320             - Interrupt Priority Register 18, IPR18. 
                                 ;    1321             - Interrupt Request Enable Register 7, IER07.
                                 ;    1322             - Vector 57 RXF0, and 58 TXM0. */
                                 ;    1323             ICU.IPR[18].BIT.IPR = CAN0_INT_LVL;
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1323
00000DD3 58EF                    		MOVU.B [R14], R15
00000DD5 781F                    		BSET #01H, R15
00000DD7 762FF200                		AND #0F2H, R15
00000DDB C3EF                    		MOV.B R15, [R14]
00000DDD 6702                    		RTSD #08H
00000DDF                         L443:	; return
                                 ;    1324             /* Interrupt enable bit per mailbox (can_block_p->MIER) set by 
                                 ;    1325             R_CAN_TxSet() and R_CAN_RxSet() */        
                                 ;    1326 #endif
                                 ;    1327     }
                                 ;    1328     else
                                 ;    1329     {
                                 ;    1330         return;
                                 ;    1331     }
                                 ;    1332 }/* end R_CAN_ConfigCANinterrupts() */
                                 		.LINE  "C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\src\r_can_api.c",1332
00000DDF 6702                    		RTSD #08H
                                 ;    1333 
                                 ;    1334 
                                 ;    1335 /*********************************************************************************
                                 ;    1336 
                                 ;    1337         CAN interrupts are in application.
                                 ;    1338 
                                 ;    1339 **********************************************************************************/
                                 ;    1340 /* eof */
                                 		.SECTION	C,ROMDATA,ALIGN=4
00000000                         __$bit_set:
00000000 01000000                		.lword	00000001H,00000002H,00000004H,00000008H,00000010H,00000020H,00000040H,00000080H
         02000000                
         04000000                
         08000000                
         10000000                
         20000000                
         40000000                
         80000000                
00000020 00010000                		.lword	00000100H,00000200H,00000400H,00000800H,00001000H,00002000H,00004000H,00008000H
         00020000                
         00040000                
         00080000                
         00100000                
         00200000                
         00400000                
         00800000                
00000040 00000100                		.lword	00010000H,00020000H,00040000H,00080000H,00100000H,00200000H,00400000H,00800000H
         00000200                
         00000400                
         00000800                
         00001000                
         00002000                
         00004000                
         00008000                
00000060 00000001                		.lword	01000000H,02000000H,04000000H,08000000H,10000000H,20000000H,40000000H,80000000H
         00000002                
         00000004                
         00000008                
         00000010                
         00000020                
         00000040                
         00000080                
                                 		.swsection	W,stuff
00000000                         L95:
00000000 rrrr                    		.switch		L72-L96
00000002 rrrr                    		.switch		L64-L96
00000004 rrrr                    		.switch		L92-L96
00000006 rrrr                    		.switch		L92-L96
00000008 rrrr                    		.switch		L92-L96
0000000A rrrr                    		.switch		L92-L96
0000000C rrrr                    		.switch		L92-L96
0000000E rrrr                    		.switch		L77-L96
00000010 rrrr                    		.switch		L81-L96
00000012 rrrr                    		.switch		L85-L96
00000014 rrrr                    		.switch		L88-L96
                                 		.SECTION	W,ROMDATA,ALIGN=4
                                 		.SECTION	W_1,ROMDATA
                                 		.SECTION	W_2,ROMDATA,ALIGN=2
                                 		.END

Information List

TOTAL ERROR(S)    00000
TOTAL WARNING(S)  00000
TOTAL LINE(S)     03610   LINES

Section List

Attr         Size               Name
CODE     0000003553(00000DE1H)  P
ROMDATA  0000000128(00000080H)  C
ROMDATA  0000000000(00000000H)  W
ROMDATA  0000000000(00000000H)  W_1
ROMDATA  0000000022(00000016H)  W_2

Cpu Type

-CPU=RX600

Command Parameter

-subcommand=C:\Users\fpolo\AppData\Local\Temp\$ccrx1EA7ADF\$ccrx\r_can_api.src.cmd
    -nologo
    -cpu=rx600
    -fpu
    -fint_register=0
    -debug
    -endian=little
-listfile=C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\Debug\src\r_can_api.lst
-output=C:\Users\fpolo\e2_studio\workspace\KitTest008_CAN_2\Debug\src\r_can_api.obj
